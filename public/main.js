/*
 * ATTENTION: The "eval" devtool has been used (maybe by default in mode: "development").
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
/******/ (() => { // webpackBootstrap
/******/ 	"use strict";
/******/ 	var __webpack_modules__ = ({

/***/ "./src/Animation.js":
/*!**************************!*\
  !*** ./src/Animation.js ***!
  \**************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ Animation)\n/* harmony export */ });\n/* harmony import */ var _Engine_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Engine.js */ \"./src/Engine.js\");\n\r\n\r\n\r\nclass Animation\r\n{\r\n\t\r\n\tconstructor()\r\n\t{\r\n\t\tBABYLON.GUI.Control.prototype.getScene = function() {\r\n\t\t\treturn _Engine_js__WEBPACK_IMPORTED_MODULE_0__.default.scene;\r\n\t\t};\r\n\t\t\r\n\t\tthis.ease = new BABYLON.CubicEase();\r\n\t\tthis.ease.setEasingMode(BABYLON.EasingFunction.EASINGMODE_EASEINOUT);\r\n\t}\r\n\t\r\n\tfadeAnimIn(control)\r\n\t{\r\n\t\t//BABYLON.Animation.CreateAndStartAnimation(\"Name\", BABYLON.node, targetProperty, framePerSecond, totalFrame, from, to, loop: 0-1, this.ease);\r\n\t\tBABYLON.Animation.CreateAndStartAnimation(control+\"fadeIn\", control, \"alpha\", 50, 20, 0, 1, 0, this.ease);\r\n\t}\r\n\r\n\tfadeAnimOut(control)\r\n\t{\r\n\t\tBABYLON.Animation.CreateAndStartAnimation(control+\"fadeOut\", control, \"alpha\", 50, 20, 1, 0, 0, this.ease);\r\n\t}\r\n\r\n\tdrawerAnimX(control, from, to)\r\n\t{\r\n\t\tBABYLON.Animation.CreateAndStartAnimation(control+\"drawerX\", control, \"leftInPixels\", 60, 30, from, to, 0, this.ease);   \r\n\t}\r\n\r\n\tdrawerAnimY(control, from, to)\r\n\t{\r\n\t\tBABYLON.Animation.CreateAndStartAnimation(control+\"drawerY\", control, \"topInPixels\", 60, 30, from, to, 0, this.ease);   \r\n\t}\r\n\r\n\tzoom(come)\r\n\t{\r\n\t\tlet camfov = (1.0 - _Engine_js__WEBPACK_IMPORTED_MODULE_0__.default.interfaces.FOV.slider.value) * 80 + 20;\r\n\t\tlet curFov, nextFov;\r\n\t\t\r\n\t\tif (come)\r\n\t\t{\r\n\t\t\tnextFov = BABYLON.Tools.ToRadians(camfov);\r\n\t\t\tcurFov = nextFov + BABYLON.Tools.ToRadians(20);\r\n\t\t}\r\n\t\telse\r\n\t\t{\r\n\t\t\t// look at pos go\r\n\t\t\t// let end = new BABYLON.Vector3(-_pos_target[0], -_pos_target[1], -_pos_target[2]).normalize();\r\n\t\t\t// let start = engine.camera.position;\r\n\r\n\t\t\t// BABYLON.Animation.CreateAndStartAnimation(\"lookAtX\", engine.camera, \"target\", 60, 30, start.x, end.x, 0);\r\n\t\t\t// BABYLON.Animation.CreateAndStartAnimation(\"lookAtY\", engine.camera, \"target\", 60, 30, start.y, end.y, 0);\r\n\t\t\t// BABYLON.Animation.CreateAndStartAnimation(\"lookAtZ\", engine.camera, \"target\", 60, 30, start.z, end.z, 0);\r\n\t\t\t// console.log(start.y, end.y)\r\n\r\n\t\t\t// fov anim\r\n\t\t\tcurFov = BABYLON.Tools.ToRadians(camfov);\r\n\t\t\tnextFov = curFov - BABYLON.Tools.ToRadians(20);\r\n\t\t}\r\n\t\tBABYLON.Animation.CreateAndStartAnimation(\"zoom\"+come?\"In\":0, _Engine_js__WEBPACK_IMPORTED_MODULE_0__.default.camera, \"fov\", 60, 30, curFov, nextFov, 0);\r\n\t}\r\n\r\n\tanimBlock(toggle)\r\n\t{\r\n\r\n\t\tif (toggle)\r\n\t\t{\r\n\t\t\t_Engine_js__WEBPACK_IMPORTED_MODULE_0__.default.interfaces.rectBlock.isVisible = true;\r\n\t\t\tBABYLON.Animation.CreateAndStartAnimation(\"animBlock\"+toggle?\"On\":0, _Engine_js__WEBPACK_IMPORTED_MODULE_0__.default.interfaces.rectBlock, \"alpha\", 50, 20, 0, 0.7, 0);\r\n\t\t}\r\n\t\telse\r\n\t\t{\r\n\t\t\tBABYLON.Animation.CreateAndStartAnimation(\"animBlock\"+toggle?\"On\":0, _Engine_js__WEBPACK_IMPORTED_MODULE_0__.default.interfaces.rectBlock, \"alpha\", 50, 20, 0.7, 0, 0);\r\n\t\t\tsetTimeout(()=>{\r\n\t\t\t\t_Engine_js__WEBPACK_IMPORTED_MODULE_0__.default.interfaces.rectBlock.isVisible = false;\r\n\t\t\t},400);\r\n\t\t}\r\n\t}\r\n\t\r\n\tanimTextStart(toggle)\r\n\t{\r\n\t\tif (toggle)\r\n\t\t{\r\n\t\t\tthis.textStart = {};\r\n\t\t\tthis.textStart.factor = 0.2;\r\n\t\t\tthis.textStart.loop = setInterval(() => {\r\n\t\t\t\tif (_Engine_js__WEBPACK_IMPORTED_MODULE_0__.default.menu.textStart.fontSizeInPixels > 24 || _Engine_js__WEBPACK_IMPORTED_MODULE_0__.default.menu.textStart.fontSizeInPixels < 22) // neu vuot bien\r\n\t\t\t\t\tthis.textStart.factor *= -1; // thi doi chieu\r\n\t\t\t\t_Engine_js__WEBPACK_IMPORTED_MODULE_0__.default.menu.textStart.fontSizeInPixels += this.textStart.factor; // anim\r\n\t\t\t}, 80);\r\n\t\t}\r\n\t\telse\r\n\t\t{\r\n\t\t\tclearInterval(this.textStart.loop);\r\n\t\t}\r\n\t}\r\n}\r\n\n\n//# sourceURL=webpack://babylonjs_sgu/./src/Animation.js?");

/***/ }),

/***/ "./src/Config.js":
/*!***********************!*\
  !*** ./src/Config.js ***!
  \***********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n\r\nconst config =\r\n{\r\n\tfirebase_storage: \"babylonjs-sgu.appspot.com\",\r\n\tdefault_lang: \"vi\"\r\n}\r\n\r\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (config);\r\n\n\n//# sourceURL=webpack://babylonjs_sgu/./src/Config.js?");

/***/ }),

/***/ "./src/DetectMobileAPI.js":
/*!********************************!*\
  !*** ./src/DetectMobileAPI.js ***!
  \********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ detectMobile)\n/* harmony export */ });\nfunction detectMobile()\r\n{\r\n    let check = false;\r\n    (function(a){if(/(android|bb\\d+|meego).+mobile|avantgo|bada\\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(a)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\\-(n|u)|c55\\/|capi|ccwa|cdm\\-|cell|chtm|cldc|cmd\\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\\-s|devi|dica|dmob|do(c|p)o|ds(12|\\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\\-|_)|g1 u|g560|gene|gf\\-5|g\\-mo|go(\\.w|od)|gr(ad|un)|haie|hcit|hd\\-(m|p|t)|hei\\-|hi(pt|ta)|hp( i|ip)|hs\\-c|ht(c(\\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\\-(20|go|ma)|i230|iac( |\\-|\\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\\/)|klon|kpt |kwc\\-|kyo(c|k)|le(no|xi)|lg( g|\\/(k|l|u)|50|54|\\-[a-w])|libw|lynx|m1\\-w|m3ga|m50\\/|ma(te|ui|xo)|mc(01|21|ca)|m\\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\\-2|po(ck|rt|se)|prox|psio|pt\\-g|qa\\-a|qc(07|12|21|32|60|\\-[2-7]|i\\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\\-|oo|p\\-)|sdk\\/|se(c(\\-|0|1)|47|mc|nd|ri)|sgh\\-|shar|sie(\\-|m)|sk\\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\\-|v\\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\\-|tdg\\-|tel(i|m)|tim\\-|t\\-mo|to(pl|sh)|ts(70|m\\-|m3|m5)|tx\\-9|up(\\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\\-|your|zeto|zte\\-/i.test(a.substr(0,4))) check = true;})(navigator.userAgent||navigator.vendor||window.opera);\r\n    return check;\r\n  };\r\n\n\n//# sourceURL=webpack://babylonjs_sgu/./src/DetectMobileAPI.js?");

/***/ }),

/***/ "./src/Effect.js":
/*!***********************!*\
  !*** ./src/Effect.js ***!
  \***********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ Effect)\n/* harmony export */ });\n/* harmony import */ var _Engine_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Engine.js */ \"./src/Engine.js\");\n\r\n\r\n\r\nclass Effect\r\n{\r\n\tturnLensFlare(toogle)\r\n\t{\r\n\t\tthis.onLensFlare = toogle;\r\n\r\n\t\tlet sunPos = _Engine_js__WEBPACK_IMPORTED_MODULE_0__.default.data.loc[_Engine_js__WEBPACK_IMPORTED_MODULE_0__.default.loc.name].sun;\r\n\t\tif (sunPos === undefined)\r\n\t\t\treturn;\r\n\r\n\t\tif (toogle)\r\n\t\t{\r\n\t\t\tlet sunPos = _Engine_js__WEBPACK_IMPORTED_MODULE_0__.default.data.loc[_Engine_js__WEBPACK_IMPORTED_MODULE_0__.default.loc.name].sun;\r\n\t\t\tif (sunPos === undefined)\r\n\t\t\t\treturn;\r\n\r\n\t\t\tif (this.sunLight === undefined)\r\n\t\t\t\tthis.sunLight = new BABYLON.PointLight(\"sunLight\", new BABYLON.Vector3(sunPos.x,sunPos.y,sunPos.z), _Engine_js__WEBPACK_IMPORTED_MODULE_0__.default.scene);\r\n\t\t\telse\r\n\t\t\t\tthis.sunLight.position = new BABYLON.Vector3(sunPos.x,sunPos.y,sunPos.z);\r\n\t\t\tthis.lensFlareSystem = new BABYLON.LensFlareSystem(\"lensFlareSystem\", this.sunLight, _Engine_js__WEBPACK_IMPORTED_MODULE_0__.default.scene);\r\n\t\t\t// this.lensFlareSystem.blendMode = BABYLON.ParticleSystem.BLENDMODE_STANDARD; // BLENDMODE_ONEONE, BLENDMODE_STANDARD, or BLENDMODE_ADD\r\n\r\n\t\t\tthis.lenFlares = [];\r\n\t\t\tthis.lenFlares[0] = new BABYLON.LensFlare(0.2, 0, new BABYLON.Color3(1, 1, 1), _Engine_js__WEBPACK_IMPORTED_MODULE_0__.default.getLink(\"lenFlare/lens5.png\"), this.lensFlareSystem);\r\n\t\t\tthis.lenFlares[1] = new BABYLON.LensFlare(0.5, 0.2, new BABYLON.Color3(0.5, 0.5, 1), _Engine_js__WEBPACK_IMPORTED_MODULE_0__.default.getLink(\"lenFlare/lens4.png\"), this.lensFlareSystem);\r\n\t\t\tthis.lenFlares[2] = new BABYLON.LensFlare(0.2, 1.0, new BABYLON.Color3(1, 1, 1), _Engine_js__WEBPACK_IMPORTED_MODULE_0__.default.getLink(\"lenFlare/lens4.png\"), this.lensFlareSystem);\r\n\t\t\tthis.lenFlares[3] = new BABYLON.LensFlare(0.4, 0.4, new BABYLON.Color3(1, 0.5, 1), _Engine_js__WEBPACK_IMPORTED_MODULE_0__.default.getLink(\"lenFlare/Flare.png\"), this.lensFlareSystem);\r\n\t\t\tthis.lenFlares[4] = new BABYLON.LensFlare(0.1, 0.6, new BABYLON.Color3(1, 1, 1), _Engine_js__WEBPACK_IMPORTED_MODULE_0__.default.getLink(\"lenFlare/lens5.png\"), this.lensFlareSystem);\r\n\t\t\tthis.lenFlares[5] = new BABYLON.LensFlare(0.3, 0.8, new BABYLON.Color3(1, 1, 1), _Engine_js__WEBPACK_IMPORTED_MODULE_0__.default.getLink(\"lenFlare/lens4.png\"), this.lensFlareSystem);\r\n\t\t}\r\n\t\telse\r\n\t\t{\r\n\t\t\tthis.lensFlareSystem.dispose();\r\n\t\t\tthis.lensFlareSystem = undefined;\r\n\t\t}\r\n\t}\r\n\r\n\tlensFlare_update()\r\n\t{\r\n\t\tif (!this.onLensFlare)\r\n\t\t\treturn;\r\n\t\t\r\n\t\tlet sunPos = _Engine_js__WEBPACK_IMPORTED_MODULE_0__.default.data.loc[_Engine_js__WEBPACK_IMPORTED_MODULE_0__.default.loc.name].sun;\r\n\t\tif (sunPos === undefined)\r\n\t\t{\r\n\t\t\tif (this.lensFlareSystem !== undefined)\r\n\t\t\t{\r\n\t\t\t\tthis.lensFlareSystem.dispose();\r\n\t\t\t\tthis.lensFlareSystem = undefined;\r\n\t\t\t}\r\n\t\t}\r\n\t\telse\r\n\t\t{\r\n\t\t\tif (this.lensFlareSystem !== undefined)\r\n\t\t\t\tthis.sunLight.position = new BABYLON.Vector3(sunPos.x,sunPos.y,sunPos.z);\r\n\t\t\telse\r\n\t\t\t\tthis.turnLensFlare(true);\r\n\t\t}\r\n\t}\r\n\r\n\tturnParticle(toogle)\r\n\t{\r\n\t\tif (toogle)\r\n\t\t{\r\n\t\t\tif (this.particleSystem === undefined)\r\n\t\t\t{\r\n\t\t\t\tthis.particleSystem = new BABYLON.ParticleSystem(\"particles\", 2000);\r\n\t\t\t\tthis.particleSystem.particleTexture = new BABYLON.Texture(_Engine_js__WEBPACK_IMPORTED_MODULE_0__.default.getLink(\"lenFlare/Flare.png\"));\r\n\t\t\t\tthis.particleSystem.blendMode = BABYLON.ParticleSystem.BLENDMODE_ONEONE;\r\n\t\t\t\t\r\n\t\t\t\tthis.particleSystem.emitter = new BABYLON.Vector3(0, 0.5, 0);\r\n\t\t\t\tthis.particleSystem.minEmitBox = new BABYLON.Vector3(-100, -40, -100);\r\n\t\t\t\tthis.particleSystem.maxEmitBox = new BABYLON.Vector3(100, 40, 100);\r\n\t\t\t\tthis.particleSystem.minSize = 0.2;\r\n\t\t\t\tthis.particleSystem.maxSize = 1.0;\r\n\t\t\t\tthis.particleSystem.minLifeTime = 0.5;\r\n\t\t\t\tthis.particleSystem.maxLifeTime = 2.0;\r\n\t\t\t\tthis.particleSystem.emitRate = 200; // Emission rate\r\n\t\t\t\tthis.particleSystem.direction1 = new BABYLON.Vector3(-1, -1, -1);\r\n\t\t\t\tthis.particleSystem.direction2 = new BABYLON.Vector3(1, 1, 1);\r\n\t\t\t\t// this.particleSystem.gravity = new BABYLON.Vector3(0, -10, 0);\r\n\t\t\t\t// this.particleSystem.minAngularSpeed = 0;\r\n\t\t\t\t// this.particleSystem.maxAngularSpeed = Math.PI;\r\n\t\t\t\t// this.particleSystem.minEmitPower = 0;\r\n\t\t\t\t// this.particleSystem.maxEmitPower = 0;\r\n\t\t\t\tthis.particleSystem.updateSpeed = 0.005;\r\n\r\n\t\t\t\t// Noise\r\n\t\t\t\tthis.noiseTexture = new BABYLON.NoiseProceduralTexture(\"perlin\", 256, _Engine_js__WEBPACK_IMPORTED_MODULE_0__.default.scene);\r\n\t\t\t\tthis.noiseTexture.animationSpeedFactor = 5;\r\n\t\t\t\tthis.noiseTexture.persistence = 2;\r\n\t\t\t\tthis.noiseTexture.brightness = 0.5;\r\n\t\t\t\tthis.noiseTexture.octaves = 2;\r\n\t\t\t\r\n\t\t\t\tthis.particleSystem.noiseTexture = this.noiseTexture;\r\n\t\t\t\tthis.particleSystem.noiseStrength = new BABYLON.Vector3(100, 100, 100);\r\n\t\t\t}\r\n\t\t\tthis.particleSystem.start();\r\n\t\t}\r\n\t\telse\r\n\t\t{\r\n\t\t\tthis.particleSystem.stop();\r\n\t\t}\r\n\t}\r\n\r\n\tturnMosionBlur(toogle)\r\n\t{\r\n\t\tif (toogle)\r\n\t\t{\r\n\t\t\tthis.mosionBlur = new BABYLON.MotionBlurPostProcess('mosionBlur', _Engine_js__WEBPACK_IMPORTED_MODULE_0__.default.scene, 1.0, _Engine_js__WEBPACK_IMPORTED_MODULE_0__.default.camera);\r\n\t\t\tthis.mosionBlur.motionStrength = 0.1;\r\n\t\t}\r\n\t\telse\r\n\t\t{\r\n\t\t\tthis.mosionBlur.dispose();\r\n\t\t}\r\n\t}\r\n\r\n\tturnBloom(toogle)\r\n\t{\r\n\t\tif (this.defaultPipeline === undefined)\r\n\t\t\tthis.defaultPipeline = new BABYLON.DefaultRenderingPipeline(\"default\", true, _Engine_js__WEBPACK_IMPORTED_MODULE_0__.default.scene, [_Engine_js__WEBPACK_IMPORTED_MODULE_0__.default.camera]);\r\n\r\n\t\tthis.defaultPipeline.bloomEnabled = toogle;\r\n\t\tthis.defaultPipeline.bloomWeight = 0.5;\r\n\t}\r\n\r\n\tturnAntiAlias(toogle)\r\n\t{\r\n\t\tif (this.defaultPipeline === undefined)\r\n\t\t\tthis.defaultPipeline = new BABYLON.DefaultRenderingPipeline(\"default\", true, _Engine_js__WEBPACK_IMPORTED_MODULE_0__.default.scene, [_Engine_js__WEBPACK_IMPORTED_MODULE_0__.default.camera]);\r\n\r\n\t\tthis.defaultPipeline.fxaaEnabled = toogle;\r\n\t}\r\n\r\n}\n\n//# sourceURL=webpack://babylonjs_sgu/./src/Effect.js?");

/***/ }),

/***/ "./src/Engine.js":
/*!***********************!*\
  !*** ./src/Engine.js ***!
  \***********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _Config_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Config.js */ \"./src/Config.js\");\n/* harmony import */ var _Map_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Map.js */ \"./src/Map.js\");\n/* harmony import */ var _Interfaces_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./Interfaces.js */ \"./src/Interfaces.js\");\n/* harmony import */ var _Animation_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./Animation.js */ \"./src/Animation.js\");\n/* harmony import */ var _Location_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./Location.js */ \"./src/Location.js\");\n/* harmony import */ var _Effect_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./Effect.js */ \"./src/Effect.js\");\n/* harmony import */ var _Music_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./Music.js */ \"./src/Music.js\");\n/* harmony import */ var _MainMenu_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./MainMenu.js */ \"./src/MainMenu.js\");\n/* harmony import */ var _DetectMobileAPI_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./DetectMobileAPI.js */ \"./src/DetectMobileAPI.js\");\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nconst engine =\r\n{\r\n\t// Forwards\r\n\tmain: function()\r\n\t{\r\n\t\tengine.initEngine();\r\n\t},\r\n\r\n\tinitEngine: function()\r\n\t{\r\n\t\t// set default\r\n\t\tthis.onInit = true;\r\n\t\tthis.debug = true;\r\n\r\n\t\t// Scene setup\r\n\t\tthis.canvas = document.getElementById('renderCanvas');\r\n\t\tthis.setCanvasSizeMobile();\r\n\r\n\t\tthis.engine = new BABYLON.Engine(this.canvas, true);\r\n\t\tthis.engine.enableOfflineSupport = false;\r\n\r\n\t\tthis.scene = new BABYLON.Scene(this.engine);\r\n\t\tthis.scene.clearColor = new BABYLON.Color3.Black();\r\n\r\n\t\t// Task load DB\r\n\t\tthis.data = {};\r\n\t\tthis.assetsManager = new BABYLON.AssetsManager(this.scene);\r\n\t\tthis.task = {};\r\n\t\tthis.task.loadDB = this.assetsManager.addTextFileTask(\"LoadDBTask\", \"file/locationDB.json\");\r\n\t\tthis.task.loadDB.onSuccess = (task) => {\r\n\t\t\tthis.data.loc = JSON.parse(task.text);\r\n\t\t}\r\n\t\tlet lang = this.getParam('lang');\r\n\t\tif (lang === null) lang = _Config_js__WEBPACK_IMPORTED_MODULE_0__.default.default_lang;\r\n\t\tthis.task.loadLang = this.assetsManager.addTextFileTask(\"LoadLangTask\", \"file/langDB_\"+lang+\".json\");\r\n\t\tthis.task.loadLang.onSuccess = (task) => {\r\n\t\t\tthis.data.lang = JSON.parse(task.text);\r\n\t\t}\r\n\t\tthis.task.loadMusic = this.assetsManager.addTextFileTask(\"LoadMusicTask\", \"file/musicDB.json\");\r\n\t\tthis.task.loadMusic.onSuccess = (task) => {\r\n\t\t\tthis.data.music = JSON.parse(task.text);\r\n\t\t}\r\n\r\n\t\t// GUI\r\n\t\tthis.advancedTexture = BABYLON.GUI.AdvancedDynamicTexture.CreateFullscreenUI(\"UI\");\r\n\t\t\r\n\t\tthis.canvas.addEventListener('wheel', event => { // Block ctrl + wheel\r\n\t\t\tif (event.ctrlKey)\r\n\t\t\t\tevent.preventDefault();\r\n\t\t}, true);\r\n\t\t\r\n\t\tdocument.addEventListener(\"keydown\", event => { // Block ctrl + cross and subtract\r\n\t\t\tif (event.ctrlKey && event.keyCode == 187 || event.keyCode == 189) // case ctrl + -\r\n\t\t\t\tevent.preventDefault();\r\n\t\t\t// else if (event.keyCode == 122)\r\n\t\t\t// {\t\r\n\t\t\t// \tevent.preventDefault();\r\n\t\t\t// }\r\n\t\t  });\r\n\r\n\t\tdocument.addEventListener(\"fullscreenchange\", () => {\r\n\t\t\tif (!this.engine.isFullscreen)\r\n\t\t\t{\r\n\t\t\t\tthis.btnFullScreen.imgFullScreenOff.isVisible = true;\r\n\t\t\t\tthis.btnFullScreen.imgFullScreenOn.isVisible = false;  \r\n\t\t\t}\r\n\t\t\telse\r\n\t\t\t{\r\n\t\t\t\tthis.btnFullScreen.imgFullScreenOff.isVisible = false;\r\n\t\t\t\tthis.btnFullScreen.imgFullScreenOn.isVisible = true;\r\n\t\t\t}\r\n\t\t  });\r\n\r\n\t\t// Camera setup\r\n        this.camera = new BABYLON.ArcRotateCamera(\"Camera\", Math.PI/2, Math.PI/2, 1, BABYLON.Vector3.Zero(), this.scene);\r\n\t\tthis.camera.attachControl(this.canvas, true);\r\n\t\tthis.camera.fov = BABYLON.Tools.ToRadians(60); // Tam nhin\r\n        this.camera.useAutoRotationBehavior = this.debug?false:true;\r\n\r\n\t\tthis.camera.angularSensibilityX = -500;\r\n\t\tthis.camera.angularSensibilityY = -500;\r\n\t\tthis.camera.inertia = 0;\r\n\t\tthis.camera.pinchPercentage = 0;\r\n\t\tthis.camera.panningSensibility = 0;\r\n\t\tthis.camera.useNaturalPinchZoom = false;\r\n\t\tthis.camera.inputs.remove(this.camera.inputs.attached.mousewheel);\r\n\t\tthis.camera.inputs.remove(this.camera.inputs.attached.keyboard);\r\n\r\n\t\t// this.camera.panningSensibility = 0;\r\n\t\t// this.camera.inputs.attached.pointers.multiTouchPanAndZoom = false;\r\n    \t// this.camera.inputs.attached.pointers.multiTouchPanning = false;\r\n\t\t// this.camera.inputs.attached.pointers.panningSensibility = 0;\r\n\t\t// this.camera.inputs.attached.pointers.pinchInwards = false;\r\n\t\t// this.camera.inputs.attached.pointers.pinchPrecision = 0; // \r\n\t\t// this.camera.pinchToPanMaxDistance = 0;\r\n\r\n\t\t// load\r\n\t\tthis.assetsManager.load();\r\n\t\tthis.assetsManager.onFinish = (tasks) => {\r\n\r\n\t\t\t// Component\r\n\t\t\t_Location_js__WEBPACK_IMPORTED_MODULE_4__.default.registerMousePicking();\r\n\t\t\tthis.animation = new _Animation_js__WEBPACK_IMPORTED_MODULE_3__.default();\r\n\t\t\tthis.effect = new _Effect_js__WEBPACK_IMPORTED_MODULE_5__.default();\r\n\t\t\tthis.interfaces = new _Interfaces_js__WEBPACK_IMPORTED_MODULE_2__.default();\r\n\t\t\tthis.map = new _Map_js__WEBPACK_IMPORTED_MODULE_1__.default();\r\n\t\t\tthis.music = new _Music_js__WEBPACK_IMPORTED_MODULE_6__.default();\r\n\t\t\tthis.loc = new _Location_js__WEBPACK_IMPORTED_MODULE_4__.default();\r\n\t\t\tthis.menu = new _MainMenu_js__WEBPACK_IMPORTED_MODULE_7__.default();\r\n    \r\n\t\t\t// set flag\r\n\t\t\tthis.onInit = false;\r\n\r\n\t\t\tthis.run();\r\n\t\t};\r\n\t},\r\n\r\n\trun: function()\r\n\t{\r\n\t\t// Update\r\n\t\t// this.scene.registerBeforeRender(() => {\r\n\t\t// \t// Check input\r\n\t\t// \tthis.g_cmd.inputProcess();\r\n\t\t// });\r\n\r\n\t\t// Render\r\n\t\tthis.engine.runRenderLoop(() => {\r\n\t\t\tthis.scene.render();\r\n\t\t});\r\n\r\n\t\t// Resize window event\r\n\t\twindow.addEventListener(\"resize\", () => {\r\n\t\t\tthis.map.resize();\r\n\t\t\tthis.setCanvasSizeMobile();\r\n\t\t\tthis.engine.resize();\r\n\t\t});\r\n\t},\r\n\r\n\t// Natives\r\n\tgetLink: function(path)\r\n\t{\r\n\t\tlet newpath = path.replace(/\\//g, \"%2F\");\r\n\t\tnewpath = newpath.replace(/\\s/g, \"%20\");\r\n\t\tlet res = \"https://firebasestorage.googleapis.com/v0/b/\"+_Config_js__WEBPACK_IMPORTED_MODULE_0__.default.firebase_storage+\"/o/\"+newpath+\"?alt=media\";\r\n\t\treturn res;\r\n\t},\r\n\r\n\tgetParam: function(key) {\r\n\t\tlet url = new URL(window.location.href);\r\n\t\treturn url.searchParams.get(key);\r\n\t},\r\n\r\n\tchangeURLwithReload: function(key, value) {\r\n\t\tlet url = new URL(window.location.href);\r\n\t\tlet param = url.searchParams;\r\n\t\tparam.set(key, value);\r\n\t\turl.search = param.toString();\r\n\t\twindow.location.href = url.toString();\r\n\t},\r\n\r\n\tchangeURLwithoutReload: function(key, value) {\r\n\t\tlet url = new URL(window.location.href);\r\n\t\tlet param = url.searchParams;\r\n\t\tparam.set(key, value);\r\n\t\turl.search = param.toString();\r\n\t\thistory.pushState({}, null, url.toString());\r\n\t},\r\n\r\n\tsetCameraFOV: function(value)\r\n\t{\r\n\t\tthis.camera.fov = BABYLON.Tools.ToRadians(value);\r\n\t},\r\n\r\n\tsetCameraType: function(type)\r\n\t{\r\n\t\tif (engine.onInit)\r\n\t\t\treturn;\r\n\t\tswitch(type)\r\n\t\t{\r\n\t\t\tcase 0: //cam thuong\r\n\t\t\t\tengine.camera.position = new BABYLON.Vector3(0,0,-1);\r\n\t\t\t\tengine.camera.fov = BABYLON.Tools.ToRadians(60);\r\n\t\t\t\tengine.interfaces.FOV.slider.value = 0.5;\r\n\t\t\t\tbreak;\r\n\t\t\tcase 1: //mat ca\r\n\t\t\t\tengine.camera.position = new BABYLON.Vector3(0,0,-60);\r\n\t\t\t\tengine.camera.fov = BABYLON.Tools.ToRadians(60);\r\n\t\t\t\tengine.interfaces.FOV.slider.value = 0.5;\r\n\t\t\t\tbreak;\r\n\t\t\tcase 2: //\r\n\t\t\t\tengine.camera.position = new BABYLON.Vector3(0,500,0);\r\n\t\t\t\tengine.camera.fov = BABYLON.Tools.ToRadians(120);\r\n\t\t\t\tengine.interfaces.FOV.slider.value = 0;\r\n\t\t\t\tbreak;\r\n\t\t\tcase 3:\r\n\t\t\t\tengine.camera.position = new BABYLON.Vector3(0,-500,0);\r\n\t\t\t\tengine.camera.fov = BABYLON.Tools.ToRadians(120);\r\n\t\t\t\tengine.interfaces.FOV.slider.value = 0;\r\n\t\t\t\tbreak;\r\n\t\t}\r\n\t},\r\n\r\n\tsetCanvasSizeMobile: function()\r\n\t{\r\n\t\tif (!(0,_DetectMobileAPI_js__WEBPACK_IMPORTED_MODULE_8__.default)())\r\n\t\t\treturn;\r\n\r\n\t\tif (window.innerHeight > window.innerWidth)\r\n\t\t{\r\n\t\t\tlet size = ((window.innerWidth / 16 * 9) / window.innerHeight * 100).toFixed(2);\r\n\t\t\tthis.canvas.style.height = size+'%';\r\n\t\t}\r\n\t\telse\r\n\t\t{\r\n\t\t\tthis.canvas.style.height = '100%';\r\n\t\t}\r\n\t},\r\n}\r\n\r\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (engine);\r\n\n\n//# sourceURL=webpack://babylonjs_sgu/./src/Engine.js?");

/***/ }),

/***/ "./src/Interfaces.js":
/*!***************************!*\
  !*** ./src/Interfaces.js ***!
  \***************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ Interfaces)\n/* harmony export */ });\n/* harmony import */ var _DetectMobileAPI_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./DetectMobileAPI.js */ \"./src/DetectMobileAPI.js\");\n/* harmony import */ var _Engine_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Engine.js */ \"./src/Engine.js\");\n\r\n\r\n\r\n\r\nclass Interfaces \r\n{\r\n\t// Forwards\r\n\tconstructor()\r\n\t{\t\r\n\t\t// Default\r\n\t\tthis.isDark = (_Engine_js__WEBPACK_IMPORTED_MODULE_1__.default.getParam(\"dark\") === 'false') ? false : true;\r\n\t\tthis.lorem = \"\\n\\tLorem ipsum dolor sit amet, consectetur adipiscing elit. Nam justo sem, mollis a iaculis sit amet, gravida luctus mi. Cras in arcu iaculis, vestibulum orci quis, vestibulum leo. In vitae ornare velit. Sed a lacus malesuada, aliquet lectus vitae, tincidunt leo. Nunc facilisis neque eleifend, volutpat ligula et, volutpat eros. Suspendisse fermentum eget augue a vulputate. Nam libero diam, placerat ac metus non, convallis vestibulum enim. Suspendisse potenti. Sed congue quam eu nunc iaculis condimentum.\\n\\tVivamus tempus viverra urna. Praesent vitae nulla sed elit tincidunt tincidunt. Nam vel nisi eu nisl facilisis mollis. Mauris quis enim quis turpis elementum condimentum. Nunc sit amet nisi dolor. Nam non magna diam. Phasellus convallis tellus elementum mauris molestie ultricies. Nulla sodales magna sit amet euismod blandit. Nunc nec commodo dolor. Curabitur quis luctus turpis. Etiam vulputate diam nec nisi rutrum, in aliquam ipsum viverra. Sed sed diam euismod, porttitor ante ac, accumsan mi. Nulla facilisi. Nam at lobortis purus. Nullam ullamcorper egestas lectus sed viverra.\";\r\n\r\n\t\t// Change title and logo icon website\r\n\t\tdocument.title = _Engine_js__WEBPACK_IMPORTED_MODULE_1__.default.data.lang.title;\r\n\t\tdocument.getElementById(\"logo\").attributes[2].value = _Engine_js__WEBPACK_IMPORTED_MODULE_1__.default.getLink(\"logo.ico\");\r\n\r\n\t\tthis.initLogoNav();\r\n\t\tthis.initFOV();\r\n\t\tthis.initMenuNav();\r\n\t\tthis.initAreaNav();\r\n\t\tthis.initSound();\r\n\t\tthis.initSettings();\r\n\t\tthis.initRectBlock();\r\n\t\tthis.initInfoPanel();\r\n\t}\r\n\t\r\n\tinitLogoNav()\r\n\t{\r\n\t\t//Rectangle danh cho logo va ngon ngu\r\n\t\tthis.logoNav = {};\r\n\t\tthis.logoNav.container = new BABYLON.GUI.Rectangle();\r\n\t\tthis.logoNav.container.width = \"200px\";\r\n\t\tthis.logoNav.container.height = \"100px\";\r\n\t\tthis.logoNav.container.verticalAlignment = 0;\r\n\t\tthis.logoNav.container.horizontalAlignment = 0;\r\n\t\tthis.logoNav.container.left = \"10px\";\r\n\t\tthis.logoNav.container.top = \"10px\";\r\n\t\tthis.logoNav.container.color = \"transparent\";\r\n\t\tthis.logoNav.container.zIndex = 6;\r\n\t\t_Engine_js__WEBPACK_IMPORTED_MODULE_1__.default.advancedTexture.addControl(this.logoNav.container);\r\n\r\n\t\t// Nut logo ve trang SGU\r\n\t\tthis.logoNav.btnLogo = new BABYLON.GUI.Button.CreateImageOnlyButton(\"btnLogo\", _Engine_js__WEBPACK_IMPORTED_MODULE_1__.default.getLink(\"logo.png\"));\r\n\t\tif ((0,_DetectMobileAPI_js__WEBPACK_IMPORTED_MODULE_0__.default)())\r\n\t\t{\r\n\t\t\tthis.logoNav.btnLogo.width = \"60px\";\r\n\t\t\tthis.logoNav.btnLogo.height = \"60px\";\r\n\t\t\tthis.logoNav.btnLogo.top = \"-20px\";\r\n\t\t}\r\n\t\telse\r\n\t\t{\r\n\t\t\tthis.logoNav.btnLogo.width = \"100px\";\r\n\t\t\tthis.logoNav.btnLogo.height = \"100px\";\r\n\t\t}\t\t\r\n\t\tthis.logoNav.btnLogo.color = \"transparent\";\r\n\t\tthis.logoNav.btnLogo.hoverCursor = \"pointer\";\r\n\t\tthis.logoNav.btnLogo.horizontalAlignment = BABYLON.GUI.Control.HORIZONTAL_ALIGNMENT_LEFT;        \r\n\t\tthis.logoNav.btnLogo.onPointerClickObservable.add(() => {\r\n\t\t\tif (confirm(_Engine_js__WEBPACK_IMPORTED_MODULE_1__.default.data.lang.confirm_direct_sguhome)) \r\n\t\t\t\twindow.open(\"https://sgu.edu.vn\");\t\t\r\n\t\t});\r\n\t\tthis.logoNav.container.addControl(this.logoNav.btnLogo);\r\n\r\n\r\n\t\t//Nut ngon ngu Viet Nam\r\n\t\tthis.logoNav.btnLangVi = new BABYLON.GUI.Button.CreateImageOnlyButton(\"btnLangVi\", _Engine_js__WEBPACK_IMPORTED_MODULE_1__.default.getLink(\"vi-flag.png\"));\r\n\t\tthis.logoNav.btnLangVi.width = \"30px\";\r\n\t\tthis.logoNav.btnLangVi.height = \"20px\";\r\n\t\tthis.logoNav.btnLangVi.color = \"transparent\";\r\n\t\tthis.logoNav.btnLangVi.hoverCursor = \"pointer\";\r\n\t\tthis.logoNav.btnLangVi.verticalAlignment = BABYLON.GUI.Control.VERTICAL_ALIGNMENT_TOP;   \r\n\t\tthis.logoNav.btnLangVi.horizontalAlignment = BABYLON.GUI.Control.HORIZONTAL_ALIGNMENT_CENTER;\r\n\t\tthis.logoNav.btnLangVi.left = \"15px\";        \r\n\t\tthis.logoNav.btnLangVi.onPointerClickObservable.add(() => {\r\n\t\t\t_Engine_js__WEBPACK_IMPORTED_MODULE_1__.default.changeURLwithReload(\"lang\", 'vi'); // Change language vietnam\r\n\t\t});\r\n\t\tthis.logoNav.container.addControl(this.logoNav.btnLangVi);\r\n\r\n\t\t//Nut ngon ngu English\r\n\t\tthis.logoNav.btnLangEn = new BABYLON.GUI.Button.CreateImageOnlyButton(\"btnLangEn\", _Engine_js__WEBPACK_IMPORTED_MODULE_1__.default.getLink(\"uk-flag.png\"));\r\n\t\tthis.logoNav.btnLangEn.width = \"30px\";\r\n\t\tthis.logoNav.btnLangEn.height = \"20px\";\r\n\t\tthis.logoNav.btnLangEn.color = \"transparent\";\r\n\t\tthis.logoNav.btnLangEn.hoverCursor = \"pointer\";\r\n\t\tthis.logoNav.btnLangEn.verticalAlignment = BABYLON.GUI.Control.VERTICAL_ALIGNMENT_TOP;   \r\n\t\tthis.logoNav.btnLangEn.horizontalAlignment = BABYLON.GUI.Control.HORIZONTAL_ALIGNMENT_CENTER;\r\n\t\tthis.logoNav.btnLangEn.left = \"50px\";          \r\n\t\tthis.logoNav.btnLangEn.onPointerClickObservable.add(() => {\r\n\t\t\t_Engine_js__WEBPACK_IMPORTED_MODULE_1__.default.changeURLwithReload(\"lang\", 'en'); // Change language english\r\n\t\t});\r\n\t\tthis.logoNav.container.addControl(this.logoNav.btnLangEn);\r\n\t}\r\n\r\n\tinitFOV()\r\n\t{\r\n\t\tthis.FOV = {};\r\n\t\tthis.FOV.container = new BABYLON.GUI.Rectangle();\r\n\t\tthis.FOV.container.verticalAlignment = BABYLON.GUI.Control.VERTICAL_ALIGNMENT_CENTER;\r\n\t\tthis.FOV.container.horizontalAlignment = BABYLON.GUI.Control.HORIZONTAL_ALIGNMENT_LEFT;\r\n\t\tthis.FOV.container.color = \"transparent\";\r\n\t\tthis.FOV.container.width = \"70px\";\r\n\t\tthis.FOV.container.height = \"200px\";\r\n\t\tthis.FOV.container.zIndex = 2;\r\n\t\t_Engine_js__WEBPACK_IMPORTED_MODULE_1__.default.advancedTexture.addControl(this.FOV.container);\r\n\t   \r\n\t\tthis.FOV.slider = new BABYLON.GUI.Slider();\r\n\t\tthis.FOV.slider.verticalAlignment = BABYLON.GUI.Control.VERTICAL_ALIGNMENT_CENTER;\r\n\t\tthis.FOV.slider.horizontalAlignment = BABYLON.GUI.Control.HORIZONTAL_ALIGNMENT_CENTER;\r\n\t\tthis.FOV.slider.minimum = 0;\r\n\t\tthis.FOV.slider.maximum = 1;\r\n\t\tthis.FOV.slider.value = 0.5;\r\n\t\tthis.FOV.slider.color = \"black\";\r\n\t\tthis.FOV.slider.isThumbClamped = true;\r\n\t\tthis.FOV.slider.isThumbCircle = true;        \r\n\t\tthis.FOV.slider.hoverCursor = \"grab\";\r\n\t\tthis.FOV.slider.color = this.isDark?\"#23272A\":\"#DEE4E7\";\r\n\t\tthis.FOV.slider.thumbColor = this.isDark?\"#DEE4E7\":\"#23272A\";\r\n\t\tthis.FOV.slider.background = this.isDark?\"#23272A\":\"#DEE4E7\";\t    \r\n\t\tthis.FOV.slider.height = \"20px\";\r\n\t\tthis.FOV.slider.width = \"130px\";\r\n\t\t//this.FOV.slider.thumbWidth = \"20px\"\r\n\t\tthis.FOV.slider.rotation = -Math.PI/2;\r\n\t\tthis.FOV.slider.onValueChangedObservable.add((value) => {\r\n\t\t\t_Engine_js__WEBPACK_IMPORTED_MODULE_1__.default.setCameraFOV((1 - value) * 80 + 20);\r\n\t\t});\r\n\t\tthis.FOV.container.addControl(this.FOV.slider);\r\n\r\n\r\n\t\tthis.FOV.btnPlus = new BABYLON.GUI.Button.CreateImageOnlyButton(\"btnPlus\", _Engine_js__WEBPACK_IMPORTED_MODULE_1__.default.getLink(\"icon/\"+(this.isDark?\"dark\":\"light\")+\"/fov_plus.png\"));\r\n\t\tthis.FOV.btnPlus.width = \"24px\";\r\n\t\tthis.FOV.btnPlus.height = \"24px\";\r\n\t\tthis.FOV.btnPlus.color = \"transparent\";\r\n\t\tthis.FOV.btnPlus.hoverCursor = \"pointer\";\r\n\t\tthis.FOV.btnPlus.verticalAlignment = BABYLON.GUI.Control.VERTICAL_ALIGNMENT_TOP;        \r\n\t\tthis.FOV.btnPlus.onPointerClickObservable.add(() => {\r\n\t\t\tthis.FOV.slider.value += 0.05;\r\n\t\t});\r\n\t\tthis.FOV.container.addControl(this.FOV.btnPlus);\r\n\t\t\r\n\t\tthis.FOV.btnMinus = new BABYLON.GUI.Button.CreateImageOnlyButton(\"btnMinus\", _Engine_js__WEBPACK_IMPORTED_MODULE_1__.default.getLink(\"icon/\"+(this.isDark?\"dark\":\"light\")+\"/fov_minus.png\"));\r\n\t\tthis.FOV.btnMinus.width = \"24px\";\r\n\t\tthis.FOV.btnMinus.height = \"24px\";\r\n\t\tthis.FOV.btnMinus.color = \"transparent\";\r\n\t\tthis.FOV.btnMinus.hoverCursor = \"pointer\";\r\n\t\tthis.FOV.btnMinus.verticalAlignment = BABYLON.GUI.Control.VERTICAL_ALIGNMENT_BOTTOM;\r\n\t\tthis.FOV.btnMinus.onPointerClickObservable.add(() => {\r\n\t\t\tthis.FOV.slider.value -= 0.05;\r\n\t\t});\t\r\n\t\tthis.FOV.container.addControl(this.FOV.btnMinus);\r\n\r\n\t\t\r\n\t} \r\n\r\n\tinitMenuNav()\r\n\t{\r\n\t\tthis.rectMenu = new BABYLON.GUI.Rectangle();\r\n\t\tthis.rectMenu.width = \"285px\";\r\n\t\tthis.rectMenu.height = \"60px\";\r\n\t\tthis.rectMenu.top = \"10px\";\r\n\t\tthis.rectMenu.left = \"15px\";\r\n\t\tthis.rectMenu.cornerRadius = 10;\r\n\t\tthis.rectMenu.background = this.isDark?\"#23272A\":\"#DEE4E7\";\r\n\t\tthis.rectMenu.color = \"transparent\";\r\n\t\tthis.rectMenu.alpha = 0.7;\r\n\t\tthis.rectMenu.verticalAlignment = 1;\r\n\t\tthis.rectMenu.horizontalAlignment = 1;\r\n\t\t_Engine_js__WEBPACK_IMPORTED_MODULE_1__.default.advancedTexture.addControl(this.rectMenu);\r\n\r\n\t\t//StackPanel cho Menu (phai/duoi)\r\n\t\tthis.panel = new BABYLON.GUI.StackPanel();\r\n\t\tthis.panel.isVertical = false;\r\n\t\t//this.panel.width = \"240px\";\r\n\t\tthis.panel.height = \"120px\";\r\n\t\tthis.panel.horizontalAlignment = 1;//BABYLON.GUI.Control.HORIZONTAL_ALIGNMENT_CENTER;\r\n\t\tthis.panel.verticalAlignment = 1;\r\n\t\tthis.panel.zIndex = 2;\r\n\t\t//this.panel.isPointerBlocker = true;\t\t\t\r\n\t\t_Engine_js__WEBPACK_IMPORTED_MODULE_1__.default.advancedTexture.addControl(this.panel);\r\n\r\n\r\n\t\t//Nut an/hien UI\r\n\t\tthis.btnUI = {};\r\n\t\tthis.btnUI.btn = new BABYLON.GUI.Button();\r\n\t\tthis.btnUI.btn.width = \"44px\";\r\n\t\tthis.btnUI.btn.height = \"24px\";\r\n\t\tthis.btnUI.btn.paddingRight = \"10px\";\r\n\t\tthis.btnUI.btn.paddingLeft = \"10px\";\r\n\t\tthis.btnUI.btn.top = \"30%\";\r\n\t\tthis.btnUI.btn.color = \"transparent\";\r\n\t\tthis.btnUI.btn.background = \"transparent\";\r\n\t\tthis.btnUI.btn.hoverCursor = \"pointer\";\r\n\t\tthis.btnUI.btn.zIndex = 2;    \r\n\t\tthis.btnUI.imgUIOn = new BABYLON.GUI.Image(\"imgUIOn\",_Engine_js__WEBPACK_IMPORTED_MODULE_1__.default.getLink(\"icon/\"+(this.isDark?\"light\":\"dark\")+\"/eye_on.png\"));\r\n\t\tthis.btnUI.btn.addControl(this.btnUI.imgUIOn);\r\n\t\tthis.btnUI.imgUIOff = new BABYLON.GUI.Image(\"imgUIOff\",_Engine_js__WEBPACK_IMPORTED_MODULE_1__.default.getLink(\"icon/\"+(this.isDark?\"light\":\"dark\")+\"/eye_off.png\"));\r\n\t\tthis.btnUI.imgUIOff.isVisible = false;\r\n\t\tthis.btnUI.btn.addControl(this.btnUI.imgUIOff);\r\n\t\tthis.btnUI.btn.onPointerClickObservable.add(() => {\r\n\t\t\t//TODO\r\n\t\t\tif (this.btnUI.imgUIOn.isVisible === true)\r\n\t\t\t{\r\n\t\t\t\tthis.btnUI.imgUIOff.isVisible = true;\r\n\t\t\t\tthis.btnUI.imgUIOn.isVisible = false; \r\n\t\t\t\t//----               \r\n\t\t\t\t_Engine_js__WEBPACK_IMPORTED_MODULE_1__.default.animation.fadeAnimOut(this.btnFullScreen.btn);\r\n\t\t\t\t_Engine_js__WEBPACK_IMPORTED_MODULE_1__.default.animation.fadeAnimOut(this.btnSetting.btn);\r\n\t\t\t\t_Engine_js__WEBPACK_IMPORTED_MODULE_1__.default.animation.fadeAnimOut(this.btnMap.btn);\r\n\t\t\t\t_Engine_js__WEBPACK_IMPORTED_MODULE_1__.default.animation.fadeAnimOut(this.btnSound.btn);\r\n\t\t\t\t_Engine_js__WEBPACK_IMPORTED_MODULE_1__.default.animation.fadeAnimOut(this.btnRotation.btn);\r\n\t\t\t\t_Engine_js__WEBPACK_IMPORTED_MODULE_1__.default.animation.fadeAnimOut(this.FOV.container);\r\n\t\t\t\t_Engine_js__WEBPACK_IMPORTED_MODULE_1__.default.animation.fadeAnimOut(this.logoNav.container);\r\n\t\t\t\t_Engine_js__WEBPACK_IMPORTED_MODULE_1__.default.animation.fadeAnimOut(this.settings.container);\t\t\t\r\n\t\t\t\t_Engine_js__WEBPACK_IMPORTED_MODULE_1__.default.animation.fadeAnimOut(this.areaNav.container);\r\n\t\t\t\t_Engine_js__WEBPACK_IMPORTED_MODULE_1__.default.animation.fadeAnimOut(this.rectSound);\r\n\t\t\t\t\r\n\t\t\t\tsetTimeout(() => {\r\n\t\t\t\tthis.btnFullScreen.btn.isVisible = false;\r\n\t\t\t\tthis.btnSetting.btn.isVisible = false;\r\n\t\t\t\tthis.btnMap.btn.isVisible = false;\r\n\t\t\t\tthis.btnSound.btn.isVisible = false;\r\n\t\t\t\tthis.btnRotation.btn.isVisible = false;\r\n\t\t\t\tthis.FOV.container.isVisible = false;\r\n\t\t\t\tthis.logoNav.container.isVisible = false;\r\n\t\t\t\tthis.settings.container.isVisible = false;\r\n\t\t\t\tthis.areaNav.container.isVisible = false;\r\n\t\t\t\tthis.rectSound.isVisible = false;\r\n\t\t\t\tthis.rectMenu.width = \"60px\";   \r\n\t\t\t\t}, 400);\r\n\t\t\t\t//----\r\n\t\t\t\t\r\n\t\t\t\t_Engine_js__WEBPACK_IMPORTED_MODULE_1__.default.map.showMiniMap(false);\r\n\t\t\t\tfor (let i=0; i<_Engine_js__WEBPACK_IMPORTED_MODULE_1__.default.loc.link.length; i++)\r\n\t\t\t\t{\r\n\t\t\t\t\t_Engine_js__WEBPACK_IMPORTED_MODULE_1__.default.animation.fadeAnimOut(_Engine_js__WEBPACK_IMPORTED_MODULE_1__.default.loc.link[i].button);\r\n\t\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\t_Engine_js__WEBPACK_IMPORTED_MODULE_1__.default.loc.link[i].button.isVisible = false;\r\n\t\t\t\t\t}, 400);  \r\n\t\t\t\t}\r\n\r\n\t\t\t\tfor (let i=0; i<_Engine_js__WEBPACK_IMPORTED_MODULE_1__.default.loc.info.length; i++)\r\n\t\t\t\t{\r\n\t\t\t\t\t_Engine_js__WEBPACK_IMPORTED_MODULE_1__.default.animation.fadeAnimOut(_Engine_js__WEBPACK_IMPORTED_MODULE_1__.default.loc.info[i].button);\r\n\t\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\t_Engine_js__WEBPACK_IMPORTED_MODULE_1__.default.loc.info[i].button.isVisible = false;\r\n\t\t\t\t\t}, 400);  \r\n\t\t\t\t}\r\n\t\t\t\t\t\t\r\n\t\t\t}\r\n\t\t\telse\r\n\t\t\t{\r\n\t\t\t\tthis.btnUI.imgUIOff.isVisible = false;\r\n\t\t\t\tthis.btnUI.imgUIOn.isVisible = true;\r\n\t\t\t\tthis.btnFullScreen.btn.isVisible = true;\r\n\t\t\t\tthis.btnSetting.btn.isVisible = true;\r\n\t\t\t\tthis.btnMap.btn.isVisible = true;\r\n\t\t\t\tthis.btnSound.btn.isVisible = true;\r\n\t\t\t\tthis.btnRotation.btn.isVisible = true;\r\n\t\t\t\tthis.FOV.container.isVisible = true;\r\n\t\t\t\tthis.logoNav.container.isVisible = true;\r\n\t\t\t\tthis.settings.container.isVisible = true;\r\n\t\t\t\tthis.areaNav.container.isVisible = true;\r\n\t\t\t\tthis.rectSound.isVisible = true;\r\n\r\n\t\t\t\t_Engine_js__WEBPACK_IMPORTED_MODULE_1__.default.animation.fadeAnimIn(this.btnFullScreen.btn);\r\n\t\t\t\t_Engine_js__WEBPACK_IMPORTED_MODULE_1__.default.animation.fadeAnimIn(this.btnSetting.btn);\r\n\t\t\t\t_Engine_js__WEBPACK_IMPORTED_MODULE_1__.default.animation.fadeAnimIn(this.btnMap.btn);\r\n\t\t\t\t_Engine_js__WEBPACK_IMPORTED_MODULE_1__.default.animation.fadeAnimIn(this.btnSound.btn);\r\n\t\t\t\t_Engine_js__WEBPACK_IMPORTED_MODULE_1__.default.animation.fadeAnimIn(this.btnRotation.btn);\r\n\t\t\t\t_Engine_js__WEBPACK_IMPORTED_MODULE_1__.default.animation.fadeAnimIn(this.FOV.container);\r\n\t\t\t\t_Engine_js__WEBPACK_IMPORTED_MODULE_1__.default.animation.fadeAnimIn(this.logoNav.container);\r\n\t\t\t\t_Engine_js__WEBPACK_IMPORTED_MODULE_1__.default.animation.fadeAnimIn(this.settings.container);\r\n\t\t\t\t_Engine_js__WEBPACK_IMPORTED_MODULE_1__.default.animation.fadeAnimIn(this.areaNav.container);\r\n\t\t\t\t_Engine_js__WEBPACK_IMPORTED_MODULE_1__.default.animation.fadeAnimIn(this.rectSound);\r\n\t\t\t\tthis.rectMenu.width = \"285px\"; \r\n\t\t\t\t//----\r\n\r\n\t\t\t\t_Engine_js__WEBPACK_IMPORTED_MODULE_1__.default.map.showMiniMap(true);\r\n\t\t\t\tfor (let i=0; i<_Engine_js__WEBPACK_IMPORTED_MODULE_1__.default.loc.link.length; i++)\r\n\t\t\t\t{                    \r\n\t\t\t\t\t_Engine_js__WEBPACK_IMPORTED_MODULE_1__.default.loc.link[i].button.isVisible = true; \r\n\t\t\t\t\t_Engine_js__WEBPACK_IMPORTED_MODULE_1__.default.animation.fadeAnimIn(_Engine_js__WEBPACK_IMPORTED_MODULE_1__.default.loc.link[i].button);\r\n\t\t\t\t}\r\n\r\n\t\t\t\tfor (let i=0; i<_Engine_js__WEBPACK_IMPORTED_MODULE_1__.default.loc.info.length; i++)\r\n\t\t\t\t{                    \r\n\t\t\t\t\t_Engine_js__WEBPACK_IMPORTED_MODULE_1__.default.loc.info[i].button.isVisible = true; \r\n\t\t\t\t\t_Engine_js__WEBPACK_IMPORTED_MODULE_1__.default.animation.fadeAnimIn(_Engine_js__WEBPACK_IMPORTED_MODULE_1__.default.loc.info[i].button);\r\n\t\t\t\t}\r\n\t\t\t\t         \t\t\r\n\t\t\t}\r\n\t\t});\r\n\t\tthis.panel.addControl(this.btnUI.btn);\r\n\t\t\r\n\r\n\t\t//Nut fullscreen\r\n\t\tthis.btnFullScreen = {};\r\n\t\tthis.btnFullScreen.btn = new BABYLON.GUI.Button();\r\n\t\tthis.btnFullScreen.btn.width = \"44px\";\r\n\t\tthis.btnFullScreen.btn.height = \"24px\";\r\n\t\tthis.btnFullScreen.btn.paddingRight = \"10px\";\r\n\t\tthis.btnFullScreen.btn.paddingLeft = \"10px\";\r\n\t\tthis.btnFullScreen.btn.top = \"30%\"\r\n\t\tthis.btnFullScreen.btn.background = \"transparent\"\r\n\t\tthis.btnFullScreen.btn.color = \"transparent\"\r\n\t\tthis.btnFullScreen.btn.hoverCursor = \"pointer\";\r\n\t\tthis.btnFullScreen.btn.zIndex = 2;       \r\n\t\tthis.btnFullScreen.imgFullScreenOn = new BABYLON.GUI.Image(\"imgFullScreenOn\",_Engine_js__WEBPACK_IMPORTED_MODULE_1__.default.getLink(\"icon/\"+(this.isDark?\"light\":\"dark\")+\"/fullscreen_on.png\"));\r\n\t\tthis.btnFullScreen.btn.addControl(this.btnFullScreen.imgFullScreenOn);\r\n\t\tthis.btnFullScreen.imgFullScreenOff = new BABYLON.GUI.Image(\"imgFullScreenOff\",_Engine_js__WEBPACK_IMPORTED_MODULE_1__.default.getLink(\"icon/\"+(this.isDark?\"light\":\"dark\")+\"/fullscreen_off.png\"));\r\n\t\tthis.btnFullScreen.imgFullScreenOff.isVisible = false;\r\n\t\tthis.btnFullScreen.btn.addControl(this.btnFullScreen.imgFullScreenOff);\r\n\t\tthis.btnFullScreen.btn.onPointerClickObservable.add(() => {\r\n\t\t\t//TODO\r\n\t\t\tif (!_Engine_js__WEBPACK_IMPORTED_MODULE_1__.default.engine.isFullscreen)\r\n\t\t\t{\r\n\t\t\t\tthis.btnFullScreen.imgFullScreenOff.isVisible = true;\r\n\t\t\t\tthis.btnFullScreen.imgFullScreenOn.isVisible = false;  \r\n\t\t\t\t\r\n\t\t\t\t_Engine_js__WEBPACK_IMPORTED_MODULE_1__.default.engine.enterFullscreen();\r\n\t\t\t}\r\n\t\t\telse\r\n\t\t\t{\r\n\t\t\t\tthis.btnFullScreen.imgFullScreenOff.isVisible = false;\r\n\t\t\t\tthis.btnFullScreen.imgFullScreenOn.isVisible = true;\r\n\r\n\t\t\t\t_Engine_js__WEBPACK_IMPORTED_MODULE_1__.default.engine.exitFullscreen();\r\n\r\n\t\t\t}\r\n\t\t});\r\n\t\tthis.panel.addControl(this.btnFullScreen.btn);\r\n\r\n\t\t//Nut setting\r\n\t\tthis.btnSetting = {};\r\n\t\tthis.btnSetting.btn = new BABYLON.GUI.Button();\r\n\t\tthis.btnSetting.btn.width = \"44px\";\r\n\t\tthis.btnSetting.btn.height = \"24px\";\r\n\t\tthis.btnSetting.btn.paddingRight = \"10px\";\r\n\t\tthis.btnSetting.btn.paddingLeft = \"10px\";\r\n\t\tthis.btnSetting.btn.top = \"30%\";\r\n\t\tthis.btnSetting.btn.color = \"transparent\";\r\n\t\tthis.btnSetting.btn.background = \"transparent\";\r\n\t\tthis.btnSetting.btn.hoverCursor = \"pointer\";\r\n\t\tthis.btnSetting.btn.zIndex = 2;        \r\n\t\tthis.btnSetting.imgSetting = new BABYLON.GUI.Image(\"imgSetting\",_Engine_js__WEBPACK_IMPORTED_MODULE_1__.default.getLink(\"icon/\"+(this.isDark?\"light\":\"dark\")+\"/setting.png\"));\r\n\t\tthis.btnSetting.btn.addControl(this.btnSetting.imgSetting);\r\n\t\tthis.btnSetting.btn.onPointerClickObservable.add(() => {\r\n\t\t\tthis.showSettingPanel(!this.settings.isShow);\r\n\t\t});\r\n\t\tthis.panel.addControl(this.btnSetting.btn);\r\n\r\n\t\t//Nut sound\r\n\t\tthis.btnSound = {};\r\n\t\tthis.btnSound.btn = new BABYLON.GUI.Button();\r\n\t\tthis.btnSound.btn.width = \"44px\";\r\n\t\tthis.btnSound.btn.height = \"24px\";\r\n\t\tthis.btnSound.btn.paddingRight = \"10px\";\r\n\t\tthis.btnSound.btn.paddingLeft = \"10px\";\r\n\t\tthis.btnSound.btn.top = \"30%\";\r\n\t\tthis.btnSound.btn.color = \"transparent\";\r\n\t\tthis.btnSound.btn.background = \"transparent\";\r\n\t\tthis.btnSound.btn.hoverCursor = \"pointer\";\r\n\t\tthis.btnSound.btn.zIndex = 2;       \r\n\t\tthis.btnSound.imgSoundOn1 = new BABYLON.GUI.Image(\"imgSoundOn\",_Engine_js__WEBPACK_IMPORTED_MODULE_1__.default.getLink(\"icon/\"+(this.isDark?\"light\":\"dark\")+\"/sound_on1.png\"));\r\n\t\tthis.btnSound.imgSoundOn1.isVisible = false;\r\n\t\tthis.btnSound.btn.addControl(this.btnSound.imgSoundOn1);\r\n\t\tthis.btnSound.imgSoundOn2 = new BABYLON.GUI.Image(\"imgSoundOn\",_Engine_js__WEBPACK_IMPORTED_MODULE_1__.default.getLink(\"icon/\"+(this.isDark?\"light\":\"dark\")+\"/sound_on2.png\"));\r\n\t\tthis.btnSound.imgSoundOn2.isVisible = false;\r\n\t\tthis.btnSound.btn.addControl(this.btnSound.imgSoundOn2);\r\n\t\tthis.btnSound.imgSoundOn3 = new BABYLON.GUI.Image(\"imgSoundOn\",_Engine_js__WEBPACK_IMPORTED_MODULE_1__.default.getLink(\"icon/\"+(this.isDark?\"light\":\"dark\")+\"/sound_on3.png\"));\r\n\t\tthis.btnSound.imgSoundOn3.isVisible = false;\r\n\t\tthis.btnSound.btn.addControl(this.btnSound.imgSoundOn3);\r\n\t\tthis.btnSound.imgSoundOff = new BABYLON.GUI.Image(\"imgSoundOff\",_Engine_js__WEBPACK_IMPORTED_MODULE_1__.default.getLink(\"icon/\"+(this.isDark?\"light\":\"dark\")+\"/sound_off.png\"));\r\n\t\tthis.btnSound.btn.addControl(this.btnSound.imgSoundOff);\r\n\t\tthis.btnSound.btn.onPointerClickObservable.add(() => {\r\n\t\t\tthis.showSoundPanel(!this.rectSound.isShow);\r\n\t\t});\r\n\t\tthis.panel.addControl(this.btnSound.btn);\r\n\r\n\t\t//Nut bat/tat tu xoay\r\n\t\tthis.btnRotation = {};\r\n\t\tthis.btnRotation.btn = new BABYLON.GUI.Button();\r\n\t\tthis.btnRotation.btn.width = \"44px\";\r\n\t\tthis.btnRotation.btn.height = \"24px\";\r\n\t\tthis.btnRotation.btn.paddingRight = \"10px\";\r\n\t\tthis.btnRotation.btn.paddingLeft = \"10px\";\r\n\t\tthis.btnRotation.btn.top = \"30%\";\r\n\t\tthis.btnRotation.btn.color = \"transparent\";\r\n\t\tthis.btnRotation.btn.background = \"transparent\";\r\n\t\tthis.btnRotation.btn.hoverCursor = \"pointer\";\r\n\t\tthis.btnRotation.btn.zIndex = 2; \r\n\t\tthis.btnRotation.imgRotationOn = new BABYLON.GUI.Image(\"imgRotationOn\",_Engine_js__WEBPACK_IMPORTED_MODULE_1__.default.getLink(\"icon/\"+(this.isDark?\"light\":\"dark\")+\"/rotation_on.png\"));\r\n\t\tthis.btnRotation.btn.addControl(this.btnRotation.imgRotationOn);\r\n\t\tthis.btnRotation.imgRotationOff = new BABYLON.GUI.Image(\"imgRotationOff\",_Engine_js__WEBPACK_IMPORTED_MODULE_1__.default.getLink(\"icon/\"+(this.isDark?\"light\":\"dark\")+\"/rotation_off.png\"));\r\n\t\tthis.btnRotation.imgRotationOff.isVisible = false;\r\n\t\tthis.btnRotation.btn.addControl(this.btnRotation.imgRotationOff);\r\n\t\tthis.btnRotation.btn.onPointerClickObservable.add(() => {\r\n\t\t\t//TODO\r\n\t\t\tif (this.btnRotation.imgRotationOn.isVisible === true)\r\n\t\t\t{\r\n\t\t\t\tthis.btnRotation.imgRotationOff.isVisible = true;\r\n\t\t\t\tthis.btnRotation.imgRotationOn.isVisible = false;  \r\n\t\t\t\t_Engine_js__WEBPACK_IMPORTED_MODULE_1__.default.camera.useAutoRotationBehavior = false;  \t\t\r\n\t\t\t}\r\n\t\t\telse\r\n\t\t\t{\r\n\t\t\t\tthis.btnRotation.imgRotationOff.isVisible = false;\r\n\t\t\t\tthis.btnRotation.imgRotationOn.isVisible = true;\r\n\t\t\t\t_Engine_js__WEBPACK_IMPORTED_MODULE_1__.default.camera.useAutoRotationBehavior = true;                 \t\t\r\n\t\t\t}\r\n\t\t});\r\n\t\tthis.panel.addControl(this.btnRotation.btn);\r\n\r\n\t\t//Nut mo map\r\n\t\tthis.btnMap = {};\r\n\t\tthis.btnMap.btn = new BABYLON.GUI.Button();\r\n\t\tthis.btnMap.btn.width = \"44px\";\r\n\t\tthis.btnMap.btn.height = \"24px\";\r\n\t\tthis.btnMap.btn.paddingRight = \"10px\";\r\n\t\tthis.btnMap.btn.paddingLeft = \"10px\";\r\n\t\tthis.btnMap.btn.top = \"30%\";\r\n\t\tthis.btnMap.btn.color = \"transparent\";\r\n\t\tthis.btnMap.btn.background = \"transparent\";\r\n\t\tthis.btnMap.btn.hoverCursor = \"pointer\";\r\n\t\tthis.btnMap.btn.zIndex = 2;       \r\n\t\tthis.btnMap.imgMap = new BABYLON.GUI.Image(\"imgMap\",_Engine_js__WEBPACK_IMPORTED_MODULE_1__.default.getLink(\"icon/\"+(this.isDark?\"light\":\"dark\")+\"/map.png\"));\r\n\t\tthis.btnMap.btn.addControl(this.btnMap.imgMap);\r\n\t\tthis.btnMap.btn.isPointerBlocker = true;\r\n\t\tthis.btnMap.btn.onPointerClickObservable.add(() => {\r\n\t\t\tthis.onShow = \"map\";\r\n\t\t\t// Show map\r\n\t\t\t_Engine_js__WEBPACK_IMPORTED_MODULE_1__.default.map.showTotalMap(true);\r\n\t\t\t// Hidden interface\r\n\t\t\tthis.showInterfaces(false);\r\n\t\t});\r\n\t\tthis.panel.addControl(this.btnMap.btn);\r\n\r\n\t\tthis.panel.children.reverse();  //Reverse panel ĐỂ CUỐI PANEL!!!\r\n\t}\r\n\r\n\tinitSound()\r\n\t{\r\n\t\t//Thanh sound\r\n\t\tthis.rectSound = new BABYLON.GUI.Rectangle();\r\n\t\tthis.rectSound.isShow = false;  \r\n\t\tthis.rectSound.width = \"285px\";\r\n\t\tthis.rectSound.height = \"60px\";\r\n\t\tthis.rectSound.top = \"-70px\";\r\n\t\tthis.rectSound.left = \"400px\";\r\n\t\tthis.rectSound.cornerRadius = 10;\r\n\t\tthis.rectSound.background = this.isDark?\"#23272A\":\"#DEE4E7\";\r\n\t\tthis.rectSound.color = \"transparent\";\r\n\t\tthis.rectSound.alpha = 1;\r\n\t\tthis.rectSound.verticalAlignment = 1;\r\n\t\tthis.rectSound.horizontalAlignment = 1;\r\n\t\tthis.rectSound.isPointerBlocker = true;\r\n\t\tthis.rectSound.zIndex = 2;\r\n\t\t_Engine_js__WEBPACK_IMPORTED_MODULE_1__.default.advancedTexture.addControl(this.rectSound);\r\n\t\t\r\n\t\tthis.sliderSound = new BABYLON.GUI.Slider();\r\n\t\tthis.sliderSound.minimum = 0;\r\n\t\tthis.sliderSound.maximum = 1;\r\n\t\tthis.sliderSound.value = 0;\r\n\t\tthis.sliderSound.color = \"black\";\r\n\t\tthis.sliderSound.isThumbClamped = true;\r\n\t\tthis.sliderSound.isThumbCircle = true;\r\n\t\tthis.sliderSound.hoverCursor = \"grab\";\r\n\t\tthis.sliderSound.thumbColor = this.isDark?\"#DEE4E7\":\"#23272A\";\t\r\n\t\tthis.sliderSound.background = this.isDark?\"#777777\":\"#ccc1bf\";\t\r\n\t\tthis.sliderSound.color = this.isDark?\"#FFFFFF\":\"#000000\";\r\n\t\tthis.sliderSound.height = \"20px\";\r\n\t\tthis.sliderSound.width = \"205px\";\r\n\t\tthis.sliderSound.left = \"10px\"\r\n\t\t//this.sliderSound.thumbWidth = \"1px\";\r\n\t\tthis.sliderSound.isVisible = true;\r\n\t\tthis.sliderSound.zIndex = 2;\r\n\t\tthis.sliderSound.onPointerMoveObservable.add(() => {\r\n\t\t\tthis.sliderSound.thumbColor = \"blue\";\r\n\t\t});\r\n\t\tthis.sliderSound.onPointerOutObservable.add(() => {\r\n\t\t\tthis.sliderSound.thumbColor = this.isDark?\"#DEE4E7\":\"#23272A\";\t\r\n\t\t});\r\n\t\tthis.sliderSound.onValueChangedObservable.add((evt) => {\r\n\t\t\t_Engine_js__WEBPACK_IMPORTED_MODULE_1__.default.music.setVolume(evt);\r\n\r\n\t\t\tif (evt > 0.66)\r\n\t\t\t{\r\n\t\t\t\tif (!this.btnSound.imgSoundOn3.isVisible)\r\n\t\t\t\t{\r\n\t\t\t\t\tthis.btnSound.imgSoundOn3.isVisible = true;\r\n\t\t\t\t\tthis.btnSound.imgSoundOn2.isVisible = false;\r\n\t\t\t\t\tthis.btnSound.imgSoundOn1.isVisible = false;\r\n\t\t\t\t\tthis.btnSound.imgSoundOff.isVisible = false;\r\n\r\n\t\t\t\t\tthis.btnSoundControl.imgSoundOn3.isVisible = true;\r\n\t\t\t\t\tthis.btnSoundControl.imgSoundOn2.isVisible = false;\r\n\t\t\t\t\tthis.btnSoundControl.imgSoundOn1.isVisible = false;\r\n\t\t\t\t\tthis.btnSoundControl.imgSoundOff.isVisible = false;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\telse if (evt > 0.33)\r\n\t\t\t{\r\n\t\t\t\tif (!this.btnSound.imgSoundOn2.isVisible)\r\n\t\t\t\t{\r\n\t\t\t\t\tthis.btnSound.imgSoundOn3.isVisible = false;\r\n\t\t\t\t\tthis.btnSound.imgSoundOn2.isVisible = true;\r\n\t\t\t\t\tthis.btnSound.imgSoundOn1.isVisible = false;\r\n\t\t\t\t\tthis.btnSound.imgSoundOff.isVisible = false;\r\n\r\n\t\t\t\t\tthis.btnSoundControl.imgSoundOn3.isVisible = false;\r\n\t\t\t\t\tthis.btnSoundControl.imgSoundOn2.isVisible = true;\r\n\t\t\t\t\tthis.btnSoundControl.imgSoundOn1.isVisible = false;\r\n\t\t\t\t\tthis.btnSoundControl.imgSoundOff.isVisible = false;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\telse if (evt > 0)\r\n\t\t\t{\r\n\t\t\t\tif (!this.btnSound.imgSoundOn1.isVisible)\r\n\t\t\t\t{\r\n\t\t\t\t\tthis.btnSound.imgSoundOn3.isVisible = false;\r\n\t\t\t\t\tthis.btnSound.imgSoundOn2.isVisible = false;\r\n\t\t\t\t\tthis.btnSound.imgSoundOn1.isVisible = true;\r\n\t\t\t\t\tthis.btnSound.imgSoundOff.isVisible = false;\r\n\r\n\t\t\t\t\tthis.btnSoundControl.imgSoundOn3.isVisible = false;\r\n\t\t\t\t\tthis.btnSoundControl.imgSoundOn2.isVisible = false;\r\n\t\t\t\t\tthis.btnSoundControl.imgSoundOn1.isVisible = true;\r\n\t\t\t\t\tthis.btnSoundControl.imgSoundOff.isVisible = false;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\telse\r\n\t\t\t{\r\n\t\t\t\tif (!this.btnSound.imgSoundOff.isVisible)\r\n\t\t\t\t{\r\n\t\t\t\t\tthis.btnSound.imgSoundOn3.isVisible = false;\r\n\t\t\t\t\tthis.btnSound.imgSoundOn2.isVisible = false;\r\n\t\t\t\t\tthis.btnSound.imgSoundOn1.isVisible = false;\r\n\t\t\t\t\tthis.btnSound.imgSoundOff.isVisible = true;\r\n\r\n\t\t\t\t\tthis.btnSoundControl.imgSoundOn3.isVisible = false;\r\n\t\t\t\t\tthis.btnSoundControl.imgSoundOn2.isVisible = false;\r\n\t\t\t\t\tthis.btnSoundControl.imgSoundOn1.isVisible = false;\r\n\t\t\t\t\tthis.btnSoundControl.imgSoundOff.isVisible = true;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\t\tthis.rectSound.addControl(this.sliderSound);\r\n\r\n\t\tthis.btnSoundControl = new BABYLON.GUI.Button();\r\n\t\tthis.btnSoundControl.width = \"44px\";\r\n\t\tthis.btnSoundControl.height = \"24px\";\r\n\t\tthis.btnSoundControl.paddingRight = \"10px\";\r\n\t\tthis.btnSoundControl.paddingLeft = \"10px\";\r\n\t\tthis.btnSoundControl.left = \"-40%\";\r\n\t\tthis.btnSoundControl.color = \"transparent\";\r\n\t\tthis.btnSoundControl.background = \"transparent\";\r\n\t\tthis.btnSoundControl.hoverCursor = \"pointer\";\r\n\t\tthis.btnSoundControl.zIndex = 2;\r\n\t\tthis.btnSoundControl.imgSoundOn1 = new BABYLON.GUI.Image(\"imgSoundOn\",_Engine_js__WEBPACK_IMPORTED_MODULE_1__.default.getLink(\"icon/\"+(this.isDark?\"light\":\"dark\")+\"/sound_on1.png\"));\r\n\t\tthis.btnSoundControl.imgSoundOn1.isVisible = false;\r\n\t\tthis.btnSoundControl.addControl(this.btnSoundControl.imgSoundOn1);\r\n\t\tthis.btnSoundControl.imgSoundOn2 = new BABYLON.GUI.Image(\"imgSoundOn\",_Engine_js__WEBPACK_IMPORTED_MODULE_1__.default.getLink(\"icon/\"+(this.isDark?\"light\":\"dark\")+\"/sound_on2.png\"));\r\n\t\tthis.btnSoundControl.imgSoundOn2.isVisible = false;\r\n\t\tthis.btnSoundControl.addControl(this.btnSoundControl.imgSoundOn2);\r\n\t\tthis.btnSoundControl.imgSoundOn3 = new BABYLON.GUI.Image(\"imgSoundOn\",_Engine_js__WEBPACK_IMPORTED_MODULE_1__.default.getLink(\"icon/\"+(this.isDark?\"light\":\"dark\")+\"/sound_on3.png\"));\r\n\t\tthis.btnSoundControl.imgSoundOn3.isVisible = false;\r\n\t\tthis.btnSoundControl.addControl(this.btnSoundControl.imgSoundOn3);\r\n\t\tthis.btnSoundControl.imgSoundOff = new BABYLON.GUI.Image(\"imgSoundOff\",_Engine_js__WEBPACK_IMPORTED_MODULE_1__.default.getLink(\"icon/\"+(this.isDark?\"light\":\"dark\")+\"/sound_off.png\"));\r\n\t\tthis.btnSoundControl.addControl(this.btnSoundControl.imgSoundOff);\r\n\t\tthis.btnSoundControl.onPointerClickObservable.add(() => {\r\n\t\t\t//TODO\r\n\t\t\tif (this.btnSoundControl.imgSoundOff.isVisible === false) // turn off\r\n\t\t\t{\r\n\t\t\t\t\r\n\t\t\t\tthis.btnSoundControl.imgSoundOff.isVisible = true;\r\n\t\t\t\tthis.btnSoundControl.imgSoundOn3.isVisible = false;\r\n\t\t\t\tthis.btnSoundControl.imgSoundOn2.isVisible = false;\r\n\t\t\t\tthis.btnSoundControl.imgSoundOn1.isVisible = false;\r\n\t\t\t\tthis.sliderSound.value = 0;\r\n\t\t\t\t_Engine_js__WEBPACK_IMPORTED_MODULE_1__.default.music.turn(false);\r\n\t\t\t}\r\n\t\t\telse  // turn on\r\n\t\t\t{\r\n\t\t\t\tthis.btnSoundControl.imgSoundOff.isVisible = false;\r\n\t\t\t\tthis.sliderSound.value = _Engine_js__WEBPACK_IMPORTED_MODULE_1__.default.music.volume;\r\n\r\n\t\t\t\tif (this.sliderSound.value > 0.66)\t\t\r\n\t\t\t\t\tthis.btnSoundControl.imgSoundOn3.isVisible = true;\r\n\t\t\t\telse if (this.sliderSound.value > 0.33)\r\n\t\t\t\t\tthis.btnSoundControl.imgSoundOn2.isVisible = true;\r\n\t\t\t\telse if (this.sliderSound.value > 0)\r\n\t\t\t\t\tthis.btnSoundControl.imgSoundOn1.isVisible = true;\r\n\r\n\t\t\t\t_Engine_js__WEBPACK_IMPORTED_MODULE_1__.default.music.turn(true);\r\n\t\t\t}\r\n\t\t});\r\n\t\tthis.rectSound.addControl(this.btnSoundControl);\r\n\t}\r\n\r\n\tinitSettings()\r\n\t{\r\n\t\t//Nut cai dat\r\n\t\tthis.settings = {};\t\t\r\n\t\tthis.settings.isShow = false;\r\n\t\tthis.settings.container = new BABYLON.GUI.ScrollViewer();\r\n\t\tthis.settings.container.isPointerBlocker = true;\r\n\t\tthis.settings.container.verticalAlignment = BABYLON.GUI.Control.VERTICAL_ALIGNMENT_CENTER;\r\n\t\tthis.settings.container.horizontalAlignment = BABYLON.GUI.Control.HORIZONTAL_ALIGNMENT_RIGHT;\r\n\t\tthis.settings.container.width = \"300px\";\r\n\t\tthis.settings.container.height = \"400px\";\r\n\t\tthis.settings.container.leftInPixels = 400;\r\n\t\tthis.settings.container.background = this.isDark?\"#23272A\":\"#DEE4E7\";     \r\n\t\tthis.settings.container.thickness = 0;\r\n\t\tthis.settings.container.zIndex = 4;\r\n\t\tthis.settings.container.cornerRadius = 5;\r\n\t\t_Engine_js__WEBPACK_IMPORTED_MODULE_1__.default.advancedTexture.addControl(this.settings.container);\r\n\t\t\r\n\t\t//Khung cai dat Grid (dieu chinh so dong Setting)\r\n\t\tthis.settings.selPanel = new BABYLON.GUI.SelectionPanel(\"settings\");\r\n\t\tthis.settings.selPanel.headerColor = \"white\";\r\n\t\tthis.settings.selPanel.color = \"white\";\r\n\t\tthis.settings.selPanel.background = this.isDark?\"#23272A\":\"#DEE4E7\";\r\n\t\tthis.settings.selPanel.headerColor = this.isDark?\"#ffffff\":\"#000000\";\r\n\t\t\r\n\t\t\r\n\t\tthis.settings.selPanel.thickness = 0;   \r\n\t\tthis.settings.selPanel.height = \"470px\";\r\n\t\t\r\n\t\t//this.settings.selPanel.barColor = \"#4F7DF2\";\r\n\t\tthis.settings.container.addControl(this.settings.selPanel);\r\n\r\n\t\tthis.settings.effectsGroup = new BABYLON.GUI.CheckboxGroup(_Engine_js__WEBPACK_IMPORTED_MODULE_1__.default.data.lang.effect);\r\n\r\n\r\n\t\tthis.settings.effectsGroup.addCheckbox(_Engine_js__WEBPACK_IMPORTED_MODULE_1__.default.data.lang.lenflare, (isCheck) => {\r\n\t\t\t_Engine_js__WEBPACK_IMPORTED_MODULE_1__.default.effect.turnLensFlare(isCheck);\r\n\t\t});\r\n\t\tthis.settings.effectsGroup.addCheckbox(_Engine_js__WEBPACK_IMPORTED_MODULE_1__.default.data.lang.particle, (isCheck) => {\r\n\t\t\t_Engine_js__WEBPACK_IMPORTED_MODULE_1__.default.effect.turnParticle(isCheck);\r\n\t\t});\r\n\t\tthis.settings.effectsGroup.addCheckbox(_Engine_js__WEBPACK_IMPORTED_MODULE_1__.default.data.lang.bloom, (isCheck) => {\r\n\t\t\t_Engine_js__WEBPACK_IMPORTED_MODULE_1__.default.effect.turnBloom(isCheck);\r\n\t\t});\r\n\t\tthis.settings.effectsGroup.addCheckbox(_Engine_js__WEBPACK_IMPORTED_MODULE_1__.default.data.lang.motionblur, (isCheck) => {\r\n\t\t\t_Engine_js__WEBPACK_IMPORTED_MODULE_1__.default.effect.turnMosionBlur(isCheck);\r\n\t\t});\r\n\t\tthis.settings.effectsGroup.addCheckbox(_Engine_js__WEBPACK_IMPORTED_MODULE_1__.default.data.lang.antialias, (isCheck) => {\r\n\t\t\t_Engine_js__WEBPACK_IMPORTED_MODULE_1__.default.effect.turnAntiAlias(isCheck);\r\n\t\t});\r\n\r\n\t\tlet numloop = this.settings.effectsGroup.selectors.length;\r\n\t\tfor (let i=0; i<numloop; i++)\r\n\t\t{\r\n\t\t\tlet spnl = this.settings.effectsGroup.selectors[i];\r\n\t\t\tspnl.color = this.isDark?\"#ccc1bf\":\"#777777\";\r\n\t\t\tspnl.onPointerMoveObservable.add(() => {\r\n\t\t\t\tspnl.color = this.isDark?\"#ffffff\":\"#000000\";\r\n\t\t\t\tspnl.hoverCursor = \"pointer\";\r\n\t\t\t});\r\n\t\t\tspnl.onPointerOutObservable.add(() => {\r\n\t\t\t\tspnl.color = this.isDark?\"#ccc1bf\":\"#777777\";\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t\tthis.settings.projectionsGroup = new BABYLON.GUI.RadioGroup(_Engine_js__WEBPACK_IMPORTED_MODULE_1__.default.data.lang.cameratype);\r\n\t\tthis.settings.projectionsGroup.addRadio(_Engine_js__WEBPACK_IMPORTED_MODULE_1__.default.data.lang.normal,_Engine_js__WEBPACK_IMPORTED_MODULE_1__.default.setCameraType, true);\r\n\t\t//this.settings.projectionsGroup.addRadio(engine.data.lang['ortho'], engine.setCameraType);\r\n\t\tthis.settings.projectionsGroup.addRadio(_Engine_js__WEBPACK_IMPORTED_MODULE_1__.default.data.lang.fisheye, _Engine_js__WEBPACK_IMPORTED_MODULE_1__.default.setCameraType);\r\n\t\tthis.settings.projectionsGroup.addRadio(_Engine_js__WEBPACK_IMPORTED_MODULE_1__.default.data.lang.tinyplanet, _Engine_js__WEBPACK_IMPORTED_MODULE_1__.default.setCameraType);\r\n\t\tthis.settings.projectionsGroup.addRadio(_Engine_js__WEBPACK_IMPORTED_MODULE_1__.default.data.lang.tubeview, _Engine_js__WEBPACK_IMPORTED_MODULE_1__.default.setCameraType);\r\n\r\n\t\tnumloop = this.settings.projectionsGroup.selectors.length;\r\n\t\tfor (let i=0; i<numloop; i++)\r\n\t\t{\r\n\t\t\tlet spnl = this.settings.projectionsGroup.selectors[i];\r\n\t\t\tspnl.color = this.isDark?\"#ccc1bf\":\"#777777\";\r\n\t\t\tspnl.onPointerMoveObservable.add(() => {\r\n\t\t\t\tspnl.color = this.isDark?\"#ffffff\":\"#000000\";\r\n\t\t\t\tspnl.hoverCursor = \"pointer\";\r\n\t\t\t});\r\n\t\t\tspnl.onPointerOutObservable.add(() => {\r\n\t\t\t\tspnl.color = this.isDark?\"#ccc1bf\":\"#777777\";\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t\tthis.settings.themesGroup = new BABYLON.GUI.RadioGroup(_Engine_js__WEBPACK_IMPORTED_MODULE_1__.default.data.lang.themes);\r\n\t\tthis.settings.themesGroup.addRadio(_Engine_js__WEBPACK_IMPORTED_MODULE_1__.default.data.lang.darkmode, (evt)=>{ this.changeTheme(evt)}, this.isDark);\r\n\t\tthis.settings.themesGroup.addRadio(_Engine_js__WEBPACK_IMPORTED_MODULE_1__.default.data.lang.lightmode, (evt)=>{ this.changeTheme(evt)}, !this.isDark);\r\n\r\n\t\tnumloop = this.settings.themesGroup.selectors.length;\r\n\t\tfor (let i=0; i<numloop; i++)\r\n\t\t{\r\n\t\t\tlet spnl = this.settings.themesGroup.selectors[i];\r\n\t\t\tspnl.color = this.isDark?\"#ccc1bf\":\"#777777\";\r\n\t\t\tspnl.onPointerMoveObservable.add(() => {\r\n\t\t\t\tspnl.color = this.isDark?\"#ffffff\":\"#000000\";\r\n\t\t\t\tspnl.hoverCursor = \"pointer\";\r\n\t\t\t});\r\n\t\t\tspnl.onPointerOutObservable.add(() => {\r\n\t\t\t\tspnl.color = this.isDark?\"#ccc1bf\":\"#777777\";\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t\tthis.settings.selPanel.addGroup(this.settings.projectionsGroup);\r\n\t\tthis.settings.selPanel.addGroup(this.settings.themesGroup);\r\n\t\tthis.settings.selPanel.addGroup(this.settings.effectsGroup);\r\n\t\t\r\n\t}  \r\n\r\n\tinitAreaNav()\r\n\t{\r\n\t\t//Khung suon khu vuc\r\n\t\tthis.areaNav = {};\r\n\t\tthis.areaNav.container = new BABYLON.GUI.Rectangle();\r\n\t\tthis.areaNav.container.isPointerBlocker = true;\r\n\t\tthis.areaNav.container.width = \"300px\";\r\n\t\tthis.areaNav.container.height = \"350px\";\r\n\t\tthis.areaNav.container.top = \"320px\";\r\n\t\tthis.areaNav.container.cornerRadius = 5;\r\n\t\tthis.areaNav.container.verticalAlignment = 1;\r\n\t\tthis.areaNav.container.horizontalAlignment = 0;\r\n\t\tthis.areaNav.container.thickness = 0;\r\n\t\tthis.areaNav.container.zIndex = 4;\t\r\n\t\t_Engine_js__WEBPACK_IMPORTED_MODULE_1__.default.advancedTexture.addControl(this.areaNav.container);\r\n\r\n\t\t//Nut bat/tat khu vuc\r\n\t\tthis.areaNav.btn = new BABYLON.GUI.Button();\r\n\t\t//this.areaNav.btn.width = \"40px\"\r\n\t\tthis.areaNav.btn.height = \"30px\";\r\n\t\tthis.areaNav.btn.color = this.isDark?\"#23272a\":\"#DEE4E7\";\r\n\t\tthis.areaNav.btn.verticalAlignment = -1;\r\n\t\tthis.areaNav.btn.hoverCursor = \"pointer\";\r\n\t\tthis.areaNav.btn.background = this.isDark?\"#23272a\":\"#DEE4E7\";;\r\n\t\tthis.areaNav.btn.alpha = 0.8;\r\n\t\tthis.areaNav.btn.thickness = 2;\r\n\t\tthis.areaNav.imgArrowOpen = new BABYLON.GUI.Image(\"imgArrowOpen\",_Engine_js__WEBPACK_IMPORTED_MODULE_1__.default.getLink(\"icon/\"+(this.isDark?\"light\":\"dark\")+\"/double_arrow_up.png\"));\r\n\t\tthis.areaNav.imgArrowOpen.width = \"40px\";\r\n\t\tthis.areaNav.btn.addControl(this.areaNav.imgArrowOpen);\r\n\t\tthis.areaNav.imgArrowClose = new BABYLON.GUI.Image(\"imgArrowClose\",_Engine_js__WEBPACK_IMPORTED_MODULE_1__.default.getLink(\"icon/\"+(this.isDark?\"light\":\"dark\")+\"/double_arrow_down.png\"));\r\n\t\tthis.areaNav.imgArrowClose.width = \"40px\";\r\n\t\tthis.areaNav.imgArrowClose.isVisible = false;\r\n\t\tthis.areaNav.btn.addControl(this.areaNav.imgArrowClose);\r\n\t\tthis.areaNav.btn.onPointerClickObservable.add(() => {\r\n\t\t\t//TODO\r\n\t\t\tif (this.areaNav.imgArrowOpen.isVisible === true)\r\n\t\t\t{\r\n\t\t\t\tthis.areaNav.imgArrowClose.isVisible = true;\r\n\t\t\t\tthis.areaNav.imgArrowOpen.isVisible = false;\r\n\t\t\t\tthis.areaNav.container.zIndex = 6;  \r\n\t\t\t\t_Engine_js__WEBPACK_IMPORTED_MODULE_1__.default.animation.drawerAnimY(this.areaNav.container, 320, -1);\t\r\n\t\t\t}\r\n\t\t\telse\r\n\t\t\t{\r\n\t\t\t\tthis.areaNav.imgArrowClose.isVisible = false;\r\n\t\t\t\tthis.areaNav.imgArrowOpen.isVisible = true;\r\n\t\t\t\tthis.areaNav.container.zIndex = 4;  \r\n\t\t\t\t_Engine_js__WEBPACK_IMPORTED_MODULE_1__.default.animation.drawerAnimY(this.areaNav.container, -1, 320);\t                \t\t\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\tthis.areaNav.container.addControl(this.areaNav.btn);\r\n\t\t\r\n\t\t//Scroll khu vuc\r\n\t\tthis.areaNav.scroll = new BABYLON.GUI.ScrollViewer();\r\n\t\tthis.areaNav.scroll.top = \"30px\";\r\n\t\t//this.areaNav.scroll.background = \"\";\r\n\t\tthis.areaNav.scroll.background = this.isDark?\"#23272A\":\"#DEE4E7\";\r\n\t\tthis.areaNav.scroll.thickness = 0;\r\n\t\tthis.areaNav.container.addControl(this.areaNav.scroll);\r\n\r\n\t\t//Grid khu vuc\r\n\t\tthis.areaNav.grid = new BABYLON.GUI.Grid();\r\n\t\tthis.areaNav.grid.isPointerBlocker = true;\r\n\t\t//this.areaNav.grid.height = \"415px\"\r\n\t\t//this.areaNav.grid.background = \"#2C2F33\";\r\n\t\tthis.areaNav.grid.color = \"white\";\r\n\t\tthis.areaNav.grid.thickness = 0;\r\n\t\tthis.areaNav.grid.addColumnDefinition(1);\r\n\t\tthis.areaNav.grid.addRowDefinition(60, true);\r\n\t\tthis.areaNav.grid.addRowDefinition(32, true);\r\n\t\tthis.areaNav.grid.addRowDefinition(32, true);\r\n\t\tthis.areaNav.grid.addRowDefinition(32, true);\r\n\t\tthis.areaNav.grid.addRowDefinition(32, true);\r\n\t\tthis.areaNav.grid.addRowDefinition(32, true);\r\n\t\tthis.areaNav.grid.addRowDefinition(32, true);\r\n\t\tthis.areaNav.grid.addRowDefinition(32, true);\r\n\t\tthis.areaNav.grid.addRowDefinition(32, true);\r\n\t\tthis.areaNav.scroll.addControl(this.areaNav.grid);\r\n\r\n\r\n\t\tthis.areaNav.localTitle = new BABYLON.GUI.TextBlock();\r\n\t\tthis.areaNav.localTitle.text = _Engine_js__WEBPACK_IMPORTED_MODULE_1__.default.data.lang.localtitle;\r\n\t\tthis.areaNav.localTitle.fontStyle = \"bold\";\t\t\t\r\n\t\tthis.areaNav.localTitle.underline = true;\r\n\t\tthis.areaNav.localTitle.textWrapping = true;\t\t\t\t\t\r\n\t\tthis.areaNav.localTitle.fontSize = \"22px\";\t\r\n\t\tthis.areaNav.localTitle.color = this.isDark?\"#FFFFFF\":\"#000000\";\t\r\n\t\tthis.areaNav.grid.addControl(this.areaNav.localTitle, 0, 0);\r\n\r\n\r\n\t\tthis.areaNav.areaADV = new BABYLON.GUI.TextBlock();\r\n\t\tthis.areaNav.areaADV.text = _Engine_js__WEBPACK_IMPORTED_MODULE_1__.default.data.lang.localADV;\r\n\t\tthis.areaNav.areaADV.hoverCursor = \"pointer\";\r\n\t\tthis.areaNav.areaADV.color = this.isDark?\"#ccc1bf\":\"#777777\";\r\n\t\tthis.areaNav.areaADV.onPointerMoveObservable.add(() => {\r\n\t\t\tthis.areaNav.areaADV.color =  this.isDark?\"#ffffff\":\"#000000\";\r\n\t\t});\r\n\t\tthis.areaNav.areaADV.onPointerOutObservable.add(() => {\r\n\t\t\tthis.areaNav.areaADV.color =  this.isDark?\"#ccc1bf\":\"#777777\";\r\n\t\t});\r\n\t\tthis.areaNav.areaADV.onPointerClickObservable.add(() => {\r\n\t\t\t_Engine_js__WEBPACK_IMPORTED_MODULE_1__.default.loc.goto('CADV');\r\n\t\t});\r\n\t\tthis.areaNav.grid.addControl(this.areaNav.areaADV, 1, 0);\r\n\r\n\r\n\t\tthis.areaNav.areaNT = new BABYLON.GUI.TextBlock();\r\n\t\tthis.areaNav.areaNT.text = _Engine_js__WEBPACK_IMPORTED_MODULE_1__.default.data.lang.localNT;\r\n\t\tthis.areaNav.areaNT.hoverCursor = \"pointer\";\r\n\t\tthis.areaNav.areaNT.color = this.isDark?\"#ccc1bf\":\"#777777\";\r\n\t\tthis.areaNav.areaNT.onPointerMoveObservable.add(() => {\r\n\t\t\tthis.areaNav.areaNT.color = this.isDark?\"#ffffff\":\"#000000\";\r\n\t\t});\r\n\t\tthis.areaNav.areaNT.onPointerOutObservable.add(() => {\r\n\t\t\tthis.areaNav.areaNT.color = this.isDark?\"#ccc1bf\":\"#777777\";\r\n\t\t});\r\n\t\tthis.areaNav.areaNT.onPointerClickObservable.add(() => {\r\n\t\t\t_Engine_js__WEBPACK_IMPORTED_MODULE_1__.default.loc.goto('CNT');\r\n\t\t});\r\n\t\tthis.areaNav.grid.addControl(this.areaNav.areaNT, 2, 0);\t\t\r\n\r\n\r\n\t\tthis.areaNav.areaA = new BABYLON.GUI.TextBlock();\r\n\t\tthis.areaNav.areaA.text = _Engine_js__WEBPACK_IMPORTED_MODULE_1__.default.data.lang.localA;\r\n\t\tthis.areaNav.areaA.hoverCursor = \"pointer\";\r\n\t\tthis.areaNav.areaA.color = this.isDark?\"#ccc1bf\":\"#777777\";\r\n\t\tthis.areaNav.areaA.onPointerMoveObservable.add(() => {\r\n\t\t\tthis.areaNav.areaA.color = this.isDark?\"#ffffff\":\"#000000\";\r\n\t\t});\r\n\t\tthis.areaNav.areaA.onPointerOutObservable.add(() => {\r\n\t\t\tthis.areaNav.areaA.color = this.isDark?\"#ccc1bf\":\"#777777\";\r\n\t\t});\r\n\t\tthis.areaNav.areaA.onPointerClickObservable.add(() => {\r\n\t\t\t_Engine_js__WEBPACK_IMPORTED_MODULE_1__.default.loc.goto('A01');\r\n\t\t});\r\n\t\tthis.areaNav.grid.addControl(this.areaNav.areaA, 3, 0);\r\n\r\n\r\n\t\tthis.areaNav.areaB = new BABYLON.GUI.TextBlock();\r\n\t\tthis.areaNav.areaB.text = _Engine_js__WEBPACK_IMPORTED_MODULE_1__.default.data.lang.localB;\r\n\t\tthis.areaNav.areaB.hoverCursor = \"pointer\";\r\n\t\tthis.areaNav.areaB.color = this.isDark?\"#ccc1bf\":\"#777777\";\r\n\t\tthis.areaNav.areaB.onPointerMoveObservable.add(() => {\r\n\t\t\tthis.areaNav.areaB.color = this.isDark?\"#ffffff\":\"#000000\";\r\n\t\t});\r\n\t\tthis.areaNav.areaB.onPointerOutObservable.add(() => {\r\n\t\t\tthis.areaNav.areaB.color = this.isDark?\"#ccc1bf\":\"#777777\";\r\n\t\t});\r\n\t\tthis.areaNav.areaB.onPointerClickObservable.add(() => {\r\n\t\t\t_Engine_js__WEBPACK_IMPORTED_MODULE_1__.default.loc.goto('B01');\r\n\t\t});\r\n\t\tthis.areaNav.grid.addControl(this.areaNav.areaB, 4, 0);\r\n\r\n\r\n\t\tthis.areaNav.areaC = new BABYLON.GUI.TextBlock();\r\n\t\tthis.areaNav.areaC.text = _Engine_js__WEBPACK_IMPORTED_MODULE_1__.default.data.lang.localC;\r\n\t\tthis.areaNav.areaC.hoverCursor = \"pointer\";\r\n\t\tthis.areaNav.areaC.color = this.isDark?\"#ccc1bf\":\"#777777\";\r\n\t\tthis.areaNav.areaC.onPointerMoveObservable.add(() => {\r\n\t\t\tthis.areaNav.areaC.color = this.isDark?\"#ffffff\":\"#000000\";\r\n\t\t});\r\n\t\tthis.areaNav.areaC.onPointerOutObservable.add(() => {\r\n\t\t\tthis.areaNav.areaC.color = this.isDark?\"#ccc1bf\":\"#777777\";\r\n\t\t});\r\n\t\tthis.areaNav.areaC.onPointerClickObservable.add(() => {\r\n\t\t\t_Engine_js__WEBPACK_IMPORTED_MODULE_1__.default.loc.goto('C01');\r\n\t\t});\r\n\t\tthis.areaNav.grid.addControl(this.areaNav.areaC, 5, 0);\r\n\r\n\r\n\t\tthis.areaNav.areaD = new BABYLON.GUI.TextBlock();\r\n\t\tthis.areaNav.areaD.text = _Engine_js__WEBPACK_IMPORTED_MODULE_1__.default.data.lang.localD;\r\n\t\tthis.areaNav.areaD.hoverCursor = \"pointer\";\r\n\t\tthis.areaNav.areaD.color = this.isDark?\"#ccc1bf\":\"#777777\";\r\n\t\tthis.areaNav.areaD.onPointerMoveObservable.add(() => {\r\n\t\t\tthis.areaNav.areaD.color = this.isDark?\"#ffffff\":\"#000000\";\r\n\t\t});\r\n\t\tthis.areaNav.areaD.onPointerOutObservable.add(() => {\r\n\t\t\tthis.areaNav.areaD.color = this.isDark?\"#ccc1bf\":\"#777777\";\r\n\t\t});\r\n\t\tthis.areaNav.areaD.onPointerClickObservable.add(() => {\r\n\t\t\t_Engine_js__WEBPACK_IMPORTED_MODULE_1__.default.loc.goto('D01');\r\n\t\t});\r\n\t\tthis.areaNav.grid.addControl(this.areaNav.areaD, 6, 0);\r\n\r\n\r\n\t\tthis.areaNav.areaE = new BABYLON.GUI.TextBlock();\r\n\t\tthis.areaNav.areaE.text = _Engine_js__WEBPACK_IMPORTED_MODULE_1__.default.data.lang.localE;\r\n\t\tthis.areaNav.areaE.hoverCursor = \"pointer\";\r\n\t\tthis.areaNav.areaE.color = this.isDark?\"#ccc1bf\":\"#777777\";\r\n\t\tthis.areaNav.areaE.onPointerMoveObservable.add(() => {\r\n\t\t\tthis.areaNav.areaE.color = this.isDark?\"#ffffff\":\"#000000\";\r\n\t\t});\r\n\t\tthis.areaNav.areaE.onPointerOutObservable.add(() => {\r\n\t\t\tthis.areaNav.areaE.color = this.isDark?\"#ccc1bf\":\"#777777\";\r\n\t\t});\r\n\t\tthis.areaNav.areaE.onPointerClickObservable.add(() => {\r\n\t\t\t_Engine_js__WEBPACK_IMPORTED_MODULE_1__.default.loc.goto('E01');\r\n\t\t});\r\n\t\tthis.areaNav.grid.addControl(this.areaNav.areaE, 7, 0);\r\n\r\n\r\n\t\tthis.areaNav.areaPL = new BABYLON.GUI.TextBlock();\r\n\t\tthis.areaNav.areaPL.text = _Engine_js__WEBPACK_IMPORTED_MODULE_1__.default.data.lang.localPL;\r\n\t\tthis.areaNav.areaPL.hoverCursor = \"pointer\";\r\n\t\tthis.areaNav.areaPL.color = this.isDark?\"#ccc1bf\":\"#777777\";\r\n\t\tthis.areaNav.areaPL.onPointerMoveObservable.add(() => {\r\n\t\t\tthis.areaNav.areaPL.color = this.isDark?\"#ffffff\":\"#000000\";\r\n\t\t});\r\n\t\tthis.areaNav.areaPL.onPointerOutObservable.add(() => {\r\n\t\t\tthis.areaNav.areaPL.color = this.isDark?\"#ccc1bf\":\"#777777\";\r\n\t\t});\r\n\t\tthis.areaNav.areaPL.onPointerClickObservable.add(() => {\r\n\t\t\t_Engine_js__WEBPACK_IMPORTED_MODULE_1__.default.loc.goto('GX1');\r\n\t\t});\r\n\t\tthis.areaNav.grid.addControl(this.areaNav.areaPL, 8, 0);\r\n\t}\r\n\r\n\tinitInfoPanel()\r\n\t{\r\n\t\t\r\n\t\t//Scrollview info\r\n\t\tthis.infoScroll = new BABYLON.GUI.ScrollViewer();\r\n\t\tthis.infoScroll.width = \"700px\";\r\n\t\tthis.infoScroll.height = \"600px\";\r\n\t\tthis.infoScroll.background = \"white\";\r\n\t\tthis.infoScroll.zIndex = 3;\r\n\t\tthis.infoScroll.cornerRadius = 10;\r\n\t\tthis.infoScroll.isVisible = false;\r\n\t\tthis.infoScroll.isPointerBlocker = true;\r\n\t\t_Engine_js__WEBPACK_IMPORTED_MODULE_1__.default.advancedTexture.addControl(this.infoScroll);\r\n\r\n\t\t//Khung ben trong scroll\r\n\t\tthis.infoContainer = new BABYLON.GUI.Rectangle();\r\n\t\tthis.infoContainer.height = \"800px\";\r\n\t\tthis.infoScroll.addControl(this.infoContainer);\r\n\t\t\r\n\t\t//Khung chua anh\r\n\t\tthis.infoImgContainer = new BABYLON.GUI.Rectangle();\r\n\t\tthis.infoImgContainer.width = \"640px\";\r\n\t\tthis.infoImgContainer.height = \"360px\";\r\n\t\tthis.infoImgContainer.top = \"20px\";\r\n\t\tthis.infoImgContainer.verticalAlignment = 0;\r\n\t\tthis.infoContainer.addControl(this.infoImgContainer);\r\n\t\t\r\n\t\t//Anh cua info\r\n\t\tthis.infoImage = new BABYLON.GUI.Image(\"imgInfo\", _Engine_js__WEBPACK_IMPORTED_MODULE_1__.default.getLink(\"logo.png\"));\r\n\t\tthis.infoImage.stretch = BABYLON.GUI.Image.STRETCH_UNIFORM;\r\n\t\t//this.infoImage.top = \"-100px\";\r\n\t\tthis.infoImgContainer.addControl(this.infoImage);\r\n\r\n\t\t//Khung chua text\r\n\t\tthis.infoTextContainer = new BABYLON.GUI.Rectangle();\r\n\t\tthis.infoTextContainer.width = \"640px\";\r\n\t\tthis.infoTextContainer.height = \"380px\";\r\n\t\tthis.infoTextContainer.top = \"20px\";\r\n\t\tthis.infoTextContainer.verticalAlignment = 0;\r\n\t\tthis.infoTextContainer.topInPixels = 400;\r\n\t\tthis.infoContainer.addControl(this.infoTextContainer);\r\n\r\n\t\t//Text cua info\r\n\t\tthis.infoText = new BABYLON.GUI.TextBlock();\r\n\t\tthis.infoText.text = \"\";\r\n\t\tthis.infoText.textWrapping = true;\r\n\t\tthis.infoText.textHorizontalAlignment = 0;\t\r\n\t\tthis.infoText.textVerticalAlignment = 0;\r\n\t\tthis.infoTextContainer.addControl(this.infoText);\r\n\t}\r\n\r\n\tinitRectBlock()\r\n\t{\r\n\r\n\t\t//Rect block background\r\n\t\tthis.rectBlock = new BABYLON.GUI.Rectangle();\r\n\t\tthis.rectBlock.color = \"transparent\";\r\n\t\tthis.rectBlock.background = \"black\";\r\n\t\tthis.rectBlock.alpha = \"0\";\r\n\t\tthis.rectBlock.zIndex = 2;\r\n\t\tthis.rectBlock.isPointerBlocker = true;\r\n\t\tthis.rectBlock.isVisible = false;\r\n\t\tthis.rectBlock.onPointerClickObservable.add(() => {\r\n\t\t\t\r\n\t\t\tswitch (this.onShow)\r\n\t\t\t{\r\n\t\t\t\tcase \"info\":\r\n\t\t\t\t{\t\r\n\t\t\t\t\tthis.showInfoPanel(false);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t\tcase \"map\":\r\n\t\t\t\t{\r\n\t\t\t\t\r\n\t\t\t\t\t// Hidden map\r\n\t\t\t\t\t_Engine_js__WEBPACK_IMPORTED_MODULE_1__.default.animation.animBlock(false);\r\n\t\t\t\t\t_Engine_js__WEBPACK_IMPORTED_MODULE_1__.default.animation.fadeAnimOut(_Engine_js__WEBPACK_IMPORTED_MODULE_1__.default.map.totalMap);\r\n\t\t\t\t\tsetTimeout(() => {\t\r\n\t\t\t\t\t\t_Engine_js__WEBPACK_IMPORTED_MODULE_1__.default.map.totalMap.isVisible = false;\r\n\t\t\t\t\t},400);\r\n\t\t\t\t\tthis.showInterfaces(true);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t\tcase \"setting\":\r\n\t\t\t\t{\r\n\t\t\t\t\tthis.showSettingPanel(false);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t\r\n\t\t});\r\n\t\t_Engine_js__WEBPACK_IMPORTED_MODULE_1__.default.advancedTexture.addControl(this.rectBlock);\r\n\r\n\t}\r\n\r\n\tchangeTheme(value)\r\n\t{\r\n\t\tif (_Engine_js__WEBPACK_IMPORTED_MODULE_1__.default.onInit) // ignore first time called\r\n\t\t\treturn;\r\n\r\n\t\tif (value === 0)\r\n\t\t\tthis.isDark = true;\r\n\t\telse // value = 1\r\n\t\t\tthis.isDark = false;\r\n\r\n\t\t_Engine_js__WEBPACK_IMPORTED_MODULE_1__.default.changeURLwithReload(\"dark\", this.isDark);\r\n\t}\r\n\t\r\n\tshowInterfaces(toggle)\r\n\t{\r\n\t\r\n\t\tif (toggle)\r\n\t\t{\r\n\t\t\tthis.btnUI.btn.isVisible = true;\r\n\t\t\tthis.btnFullScreen.btn.isVisible = true;\r\n\t\t\tthis.btnSetting.btn.isVisible = true;\r\n\t\t\tthis.btnMap.btn.isVisible = true;\r\n\t\t\tthis.btnSound.btn.isVisible = true;\r\n\t\t\tthis.btnRotation.btn.isVisible = true;\r\n\t\t\tthis.FOV.container.isVisible = true;\t\r\n\t\t\tthis.logoNav.container.isVisible = true;\t\r\n\t\t\tthis.settings.container.isVisible = true;\t\r\n\t\t\tthis.areaNav.container.isVisible = true;\r\n\t\t\tthis.rectMenu.isVisible = true;\r\n\t\t\tthis.rectSound.isVisible = true;\r\n\r\n\r\n\t\t\t_Engine_js__WEBPACK_IMPORTED_MODULE_1__.default.animation.fadeAnimIn(this.btnUI.btn);\r\n\t\t\t_Engine_js__WEBPACK_IMPORTED_MODULE_1__.default.animation.fadeAnimIn(this.btnFullScreen.btn);\r\n\t\t\t_Engine_js__WEBPACK_IMPORTED_MODULE_1__.default.animation.fadeAnimIn(this.btnSetting.btn);\r\n\t\t\t_Engine_js__WEBPACK_IMPORTED_MODULE_1__.default.animation.fadeAnimIn(this.btnSound.btn);\r\n\t\t\t_Engine_js__WEBPACK_IMPORTED_MODULE_1__.default.animation.fadeAnimIn(this.btnMap.btn);\r\n\t\t\t_Engine_js__WEBPACK_IMPORTED_MODULE_1__.default.animation.fadeAnimIn(this.btnRotation.btn);\r\n\t\t\t_Engine_js__WEBPACK_IMPORTED_MODULE_1__.default.animation.fadeAnimIn(this.FOV.container);\r\n\t\t\t_Engine_js__WEBPACK_IMPORTED_MODULE_1__.default.animation.fadeAnimIn(this.logoNav.container);\r\n\t\t\t_Engine_js__WEBPACK_IMPORTED_MODULE_1__.default.animation.fadeAnimIn(this.settings.container);\r\n\t\t\t_Engine_js__WEBPACK_IMPORTED_MODULE_1__.default.animation.fadeAnimIn(this.areaNav.container);\r\n\t\t\t_Engine_js__WEBPACK_IMPORTED_MODULE_1__.default.animation.fadeAnimIn(this.rectMenu);\r\n\t\t\t_Engine_js__WEBPACK_IMPORTED_MODULE_1__.default.animation.fadeAnimIn(this.rectSound);\r\n\t\t\t_Engine_js__WEBPACK_IMPORTED_MODULE_1__.default.map.showMiniMap(true);\r\n\t\t\t\r\n\t\t\t\r\n\t\t\tfor (let i=0; i< _Engine_js__WEBPACK_IMPORTED_MODULE_1__.default.loc.link.length; i++)\r\n\t\t\t{\r\n\t\t\t\t_Engine_js__WEBPACK_IMPORTED_MODULE_1__.default.loc.link[i].button.isVisible = true;\r\n\t\t\t\t_Engine_js__WEBPACK_IMPORTED_MODULE_1__.default.animation.fadeAnimIn(_Engine_js__WEBPACK_IMPORTED_MODULE_1__.default.loc.link[i].button);\r\n\t\t\t}\r\n\t\t\tfor (let i=0; i< _Engine_js__WEBPACK_IMPORTED_MODULE_1__.default.loc.info.length; i++)\r\n\t\t\t{\r\n\t\t\t\t_Engine_js__WEBPACK_IMPORTED_MODULE_1__.default.loc.info[i].button.isVisible = true;\r\n\t\t\t\t_Engine_js__WEBPACK_IMPORTED_MODULE_1__.default.animation.fadeAnimIn(_Engine_js__WEBPACK_IMPORTED_MODULE_1__.default.loc.info[i].button);\r\n\t\t\t}\r\n\t\t}\r\n\t\telse\r\n\t\t{\r\n\t\t\t_Engine_js__WEBPACK_IMPORTED_MODULE_1__.default.animation.fadeAnimOut(this.btnUI.btn);\r\n\t\t\t_Engine_js__WEBPACK_IMPORTED_MODULE_1__.default.animation.fadeAnimOut(this.btnFullScreen.btn);\r\n\t\t\t_Engine_js__WEBPACK_IMPORTED_MODULE_1__.default.animation.fadeAnimOut(this.btnSetting.btn);\r\n\t\t\t_Engine_js__WEBPACK_IMPORTED_MODULE_1__.default.animation.fadeAnimOut(this.btnMap.btn);\r\n\t\t\t_Engine_js__WEBPACK_IMPORTED_MODULE_1__.default.animation.fadeAnimOut(this.btnSound.btn);\r\n\t\t\t_Engine_js__WEBPACK_IMPORTED_MODULE_1__.default.animation.fadeAnimOut(this.btnRotation.btn);\r\n\t\t\t_Engine_js__WEBPACK_IMPORTED_MODULE_1__.default.animation.fadeAnimOut(this.FOV.container);\r\n\t\t\t_Engine_js__WEBPACK_IMPORTED_MODULE_1__.default.animation.fadeAnimOut(this.logoNav.container);\r\n\t\t\t_Engine_js__WEBPACK_IMPORTED_MODULE_1__.default.animation.fadeAnimOut(this.settings.container);\r\n\t\t\t_Engine_js__WEBPACK_IMPORTED_MODULE_1__.default.animation.fadeAnimOut(this.areaNav.container);\r\n\t\t\t_Engine_js__WEBPACK_IMPORTED_MODULE_1__.default.animation.fadeAnimOut(this.rectMenu);\r\n\t\t\t_Engine_js__WEBPACK_IMPORTED_MODULE_1__.default.animation.fadeAnimOut(this.rectSound);\r\n\t\t\t\r\n\t\t\tsetTimeout(() => {\t\t\t\r\n\t\t\t\tthis.btnUI.btn.isVisible = false;\r\n\t\t\t\tthis.btnFullScreen.btn.isVisible = false;\r\n\t\t\t\tthis.btnSetting.btn.isVisible = false;\r\n\t\t\t\tthis.btnMap.btn.isVisible = false;\r\n\t\t\t\tthis.btnSound.btn.isVisible = false;\r\n\t\t\t\tthis.btnRotation.btn.isVisible = false;\r\n\t\t\t\tthis.FOV.container.isVisible = false; \r\n\t\t\t\tthis.logoNav.container.isVisible = false; \r\n\t\t\t\tthis.settings.container.isVisible = false; \r\n\t\t\t\tthis.areaNav.container.isVisible = false; \r\n\t\t\t\tthis.rectMenu.isVisible = false; \r\n\t\t\t\tthis.rectSound.isVisible = false; \r\n\t\t\t},400);\r\n\t\t\t_Engine_js__WEBPACK_IMPORTED_MODULE_1__.default.map.showMiniMap(false);\r\n\t\t\t\r\n\t\t\tfor (let i=0; i<_Engine_js__WEBPACK_IMPORTED_MODULE_1__.default.loc.link.length; i++)\r\n\t\t\t{\r\n\t\t\t\t_Engine_js__WEBPACK_IMPORTED_MODULE_1__.default.animation.fadeAnimOut(_Engine_js__WEBPACK_IMPORTED_MODULE_1__.default.loc.link[i].button);\r\n\t\t\t\tsetTimeout(() => {\t\r\n\t\t\t\t\t_Engine_js__WEBPACK_IMPORTED_MODULE_1__.default.loc.link[i].button.isVisible = false;  \r\n\t\t\t\t},400);\r\n\t\t\t}\r\n\t\t\tfor (let i=0; i<_Engine_js__WEBPACK_IMPORTED_MODULE_1__.default.loc.info.length; i++)\r\n\t\t\t{\r\n\t\t\t\t_Engine_js__WEBPACK_IMPORTED_MODULE_1__.default.animation.fadeAnimOut(_Engine_js__WEBPACK_IMPORTED_MODULE_1__.default.loc.info[i].button);\r\n\t\t\t\tsetTimeout(() => {\t// ko toi uu\r\n\t\t\t\t\t_Engine_js__WEBPACK_IMPORTED_MODULE_1__.default.loc.info[i].button.isVisible = false;  \r\n\t\t\t\t},400);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tshowSettingPanel(toggle)\r\n\t{\r\n\t\tif ((0,_DetectMobileAPI_js__WEBPACK_IMPORTED_MODULE_0__.default)())\r\n\t\t{\r\n\t\t\tif (toggle)\r\n\t\t\t{\r\n\t\t\t\t_Engine_js__WEBPACK_IMPORTED_MODULE_1__.default.interfaces.onShow = \"setting\";\r\n\t\t\t\t_Engine_js__WEBPACK_IMPORTED_MODULE_1__.default.animation.animBlock(true);\r\n\t\t\t}\r\n\t\t\telse\r\n\t\t\t{\r\n\t\t\t\t_Engine_js__WEBPACK_IMPORTED_MODULE_1__.default.animation.animBlock(false);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif (toggle)\r\n\t\t{\r\n\t\t\t_Engine_js__WEBPACK_IMPORTED_MODULE_1__.default.animation.drawerAnimX(this.settings.container, 400, -1);\r\n\t\t}\r\n\t\telse\r\n\t\t\t_Engine_js__WEBPACK_IMPORTED_MODULE_1__.default.animation.drawerAnimX(this.settings.container, -1, 400);\r\n\t\tthis.settings.isShow = toggle;\r\n\t}\r\n\r\n\tshowInfoPanel(toggle, name = \"\")\r\n\t{\r\n\t\tif (toggle)\r\n\t\t{\r\n\t\t\t// Change content\r\n\t\t\tthis.infoImage.source = _Engine_js__WEBPACK_IMPORTED_MODULE_1__.default.getLink(\"preview/\"+name+\".jpg\");\r\n\t\t\tthis.infoText.text = _Engine_js__WEBPACK_IMPORTED_MODULE_1__.default.data.lang[name] + this.lorem;\r\n\r\n\t\t\t// Show\r\n\t\t\tthis.onShow = \"info\";\r\n\t\t\tthis.showInterfaces(false);\r\n\t\t\tthis.infoScroll.isVisible = true;\r\n\t\t\t_Engine_js__WEBPACK_IMPORTED_MODULE_1__.default.animation.fadeAnimIn(this.infoScroll);\r\n\t\t\t_Engine_js__WEBPACK_IMPORTED_MODULE_1__.default.animation.animBlock(true);\r\n\t\t}\r\n\t\telse\r\n\t\t{\t\r\n\t\t\t_Engine_js__WEBPACK_IMPORTED_MODULE_1__.default.animation.fadeAnimOut(this.infoScroll);\r\n\t\t\t_Engine_js__WEBPACK_IMPORTED_MODULE_1__.default.animation.animBlock(false);\r\n\t\t\tsetTimeout(() => {\r\n\t\t\t\tthis.infoScroll.isVisible = false;\r\n\t\t\t}, 400);\r\n\t\t\tthis.showInterfaces(true);\r\n\t\t}\r\n\t}\r\n\r\n\tshowSoundPanel(toggle)\r\n\t{\r\n\t\tif (toggle)\r\n\t\t{\r\n\t\t\t_Engine_js__WEBPACK_IMPORTED_MODULE_1__.default.animation.drawerAnimX(this.rectSound, 285, 15);\r\n\t\t}\r\n\t\telse\r\n\t\t\t_Engine_js__WEBPACK_IMPORTED_MODULE_1__.default.animation.drawerAnimX(this.rectSound, 15, 285);\r\n\t\tthis.rectSound.isShow = toggle;\r\n\t}\r\n}\r\n\n\n//# sourceURL=webpack://babylonjs_sgu/./src/Interfaces.js?");

/***/ }),

/***/ "./src/Location.js":
/*!*************************!*\
  !*** ./src/Location.js ***!
  \*************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ Location)\n/* harmony export */ });\n/* harmony import */ var _Engine_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Engine.js */ \"./src/Engine.js\");\n\r\n\r\n\r\nclass Location\r\n{\r\n\t// Forwards\r\n\tconstructor()\r\n\t{\r\n\t\t// Set default\r\n\t\tthis.onLoad = false;\r\n\r\n\t\t// Get location\r\n\t\tthis.name = _Engine_js__WEBPACK_IMPORTED_MODULE_0__.default.getParam(\"location\");\r\n\t\tif (this.name === null)\r\n\t\t\tthis.name = 'CADV'\r\n\r\n\t\tthis.data = _Engine_js__WEBPACK_IMPORTED_MODULE_0__.default.data.loc[this.name];\r\n\t\tthis.position = this.data.position;\r\n\t\t\r\n\t\t// Create PhotoDome\r\n\t\tthis.dome = new BABYLON.PhotoDome(\r\n\t\t\t\"skyDome\",\r\n\t\t\t_Engine_js__WEBPACK_IMPORTED_MODULE_0__.default.getLink(\"dome/\"+this.name+\".jpg\"),\r\n\t\t\t{\r\n\t\t\t\tfaceForward: false,\r\n\t\t\t\tresolution: 32,\r\n\t\t\t\tsize: 1000\r\n\t\t\t},\r\n\t\t\t_Engine_js__WEBPACK_IMPORTED_MODULE_0__.default.scene\r\n\t\t);\r\n\t\tthis.dome.rotation.y = BABYLON.Tools.ToRadians(this.data.rotation);\r\n\t\t\r\n\t\t// Set link\r\n\t\tthis.link = [];\r\n\t\tfor (let i=0; i<this.data.link.length; i++)\r\n\t\t{\r\n\t\t\tlet l = this.data.link[i];\r\n\t\t\tthis.addLink(l.name, l.pos)\r\n\t\t}\r\n\r\n\t\t// Set info\r\n\t\tthis.info = [];\r\n\t\tfor (let i=0; i<this.data.info.length; i++)\r\n\t\t{\r\n\t\t\tlet info = this.data.info[i];\r\n\t\t\tthis.addInfo(info.name, info.pos)\r\n\t\t}\r\n\r\n\t\t_Engine_js__WEBPACK_IMPORTED_MODULE_0__.default.map.goLocation(this.name, this.position); // hook map\r\n\t}\r\n\r\n\t// Natives\r\n\r\n\taddLink(_name, _position)\r\n\t{\r\n\t\tlet box = BABYLON.MeshBuilder.CreateBox(_name+\"_box\", {});\r\n\t\tbox.position = new BABYLON.Vector3(_position[0], _position[1], _position[2]);\r\n\t\tbox.isVisible = false;\r\n\r\n\t\tlet rectPre = new BABYLON.GUI.Rectangle();\r\n        rectPre.width = \"300px\";\r\n        rectPre.height = \"200px\";\r\n        rectPre.cornerRadius = 40;\r\n        rectPre.color = \"white\";\r\n        rectPre.thickness = 3;\r\n        rectPre.background = \"green\";\r\n        _Engine_js__WEBPACK_IMPORTED_MODULE_0__.default.advancedTexture.addControl(rectPre);\r\n        rectPre.linkWithMesh(box);\r\n        rectPre.linkOffsetY = -150;\r\n        rectPre.isVisible = false;\r\n\t\t\r\n\t\tlet imgPreview = new BABYLON.GUI.Image(_name+\"_imgPreview\",_Engine_js__WEBPACK_IMPORTED_MODULE_0__.default.getLink(\"preview/\"+_name+\".jpg\"));\r\n        rectPre.addControl(imgPreview);\r\n\r\n\t\tlet line = new BABYLON.GUI.Line();\r\n        line.lineWidth = 3;\r\n        line.color = \"white\";\r\n        line.y2 = 98;\r\n        // line.dash = [5, 10];\r\n        line.linkOffsetY = -15;\r\n        _Engine_js__WEBPACK_IMPORTED_MODULE_0__.default.advancedTexture.addControl(line);\r\n        line.linkWithMesh(box);\r\n        line.connectedControl = rectPre;\r\n        line.isVisible = false;\r\n\r\n        let textPre = new BABYLON.GUI.TextBlock(_name+\"textPre\",_Engine_js__WEBPACK_IMPORTED_MODULE_0__.default.data.lang[_name]);\r\n        //textPre.linkWithMesh(box);\r\n        textPre.color = \"white\";\r\n        textPre.fontFamily = \"Time News Roman\"\r\n        textPre.drawOutline = true;\r\n        textPre.outlineColor = \"Black\";\r\n        textPre.outlineWidth = 3;\r\n        textPre.verticalAlignment = BABYLON.GUI.Control.VERTICAL_ALIGNMENT_BOTTOM;\r\n        textPre.height = 0.15\r\n        rectPre.addControl(textPre);\r\n\r\n\t\t// Icon walk\r\n\t\tlet rect = new BABYLON.GUI.Ellipse();\r\n\t\trect.width = \"30px\";\r\n\t\trect.height = \"30px\";\r\n\t\trect.color = \"#DEE4E7\";\r\n\t\trect.thickness = 3;\r\n\t\trect.background = \"#23272A\";\r\n\t\trect.zIndex = 1;\r\n\t\trect.hoverCursor = \"pointer\";\r\n\t\trect.isPointerBlocker = true;\r\n\t\t_Engine_js__WEBPACK_IMPORTED_MODULE_0__.default.advancedTexture.addControl(rect);\r\n\t\trect.linkWithMesh(box);\r\n\t\trect.onPointerDownObservable.add(() => {\r\n\t\t\tthis.goto(_name);\r\n\t\t});\r\n\r\n\t\trect.onPointerMoveObservable.add(() => {            \r\n\t\t\trectPre.isVisible = true;\r\n            line.isVisible = true;\r\n\t\t\t//engine.animation.fadeAnimIn(rectPre);\r\n\t\t\t//engine.animation.fadeAnimIn(line);\r\n        });\r\n\r\n        rect.onPointerOutObservable.add(() => {\r\n\t\t\t//engine.animation.fadeAnimOut(rectPre);\r\n\t\t\t//engine.animation.fadeAnimOut(line);           \r\n\t\t\t//setTimeout(() => {\r\n\t\t\t\trectPre.isVisible = false;\r\n            \tline.isVisible = false;\r\n\t\t\t//},400);\r\n        });\r\n\r\n\t\t// Walk icon\r\n\t\tlet imgwalk = new BABYLON.GUI.Image(+\"walkIcon\",_Engine_js__WEBPACK_IMPORTED_MODULE_0__.default.getLink(\"icon/walk.png\"));\r\n        rect.addControl(imgwalk);\r\n\r\n\t\t\r\n\t\tthis.link.push({\r\n\t\t\tname: _name,\r\n\t\t\tmesh: box,\r\n\t\t\tbutton: rect,\r\n\t\t\tpointer: line,\r\n\t\t\tpreview: rectPre,\r\n\t\t\t//textblock: textPre\r\n\t\t});\r\n\t}\r\n\r\n\taddInfo(_name, _position)\r\n\t{\r\n\t\tlet box = BABYLON.MeshBuilder.CreateBox(_name+\"_boxInfo\", {});\r\n\t\tbox.position = new BABYLON.Vector3(_position[0], _position[1], _position[2]);\r\n\t\tbox.isVisible = false;\r\n\t\t\r\n\t\t// Icon walk\r\n\t\tlet rect = new BABYLON.GUI.Ellipse();\r\n\t\trect.width = \"30px\";\r\n\t\trect.height = \"30px\";\r\n\t\trect.color = \"#DEE4E7\";\r\n\t\trect.thickness = 3;\r\n\t\trect.background = \"#23272A\";\r\n\t\trect.zIndex = 1;\r\n\t\trect.hoverCursor = \"pointer\";\r\n\t\trect.isPointerBlocker = true;\r\n\t\t_Engine_js__WEBPACK_IMPORTED_MODULE_0__.default.advancedTexture.addControl(rect);\r\n\t\trect.linkWithMesh(box);\r\n\t\trect.onPointerDownObservable.add(() => {\r\n\t\t\t_Engine_js__WEBPACK_IMPORTED_MODULE_0__.default.interfaces.showInfoPanel(true, _name);\r\n\t\t});\r\n\r\n\t\t// Walk icon\r\n\t\tlet imginfo = new BABYLON.GUI.Image(+\"walkIcon\",_Engine_js__WEBPACK_IMPORTED_MODULE_0__.default.getLink(\"icon/info.png\"));\r\n        rect.addControl(imginfo);\r\n\r\n\t\tthis.info.push({\r\n\t\t\tname: _name,\r\n\t\t\tmesh: box,\r\n\t\t\tbutton: rect,\r\n\t\t\timgIcon: imginfo\r\n\t\t});\r\n\t}\r\n\r\n\tgoto(_name)\r\n\t{\r\n\t\tif (this.name.localeCompare(_name) == 0) // skip same location\r\n\t\t\treturn;\r\n\t\t\r\n\t\tif (this.onLoad) // Skip when spam\r\n\t\t\treturn;\r\n\t\t\r\n\t\t// Set flag\r\n\t\tthis.onLoad = true;\r\n\r\n\t\t// update url\r\n\t\t_Engine_js__WEBPACK_IMPORTED_MODULE_0__.default.changeURLwithoutReload(\"location\", _name);\r\n\r\n\t\t// Get data\r\n\t\tthis.name_next = _name;\r\n\t\tthis.data = _Engine_js__WEBPACK_IMPORTED_MODULE_0__.default.data.loc[this.name_next];\r\n\r\n\t\t// Remove link and infomation\r\n\t\tlet nloop = this.link.length;\r\n\t\tfor (let i=0; i<nloop; i++)\r\n\t\t{\r\n\t\t\tthis.link[i].pointer.dispose();\r\n\t\t\tthis.link[i].preview.dispose();\r\n\t\t\tthis.link[i].button.dispose();\r\n\t\t\tthis.link[i].mesh.dispose();\r\n\t\t}\r\n\t\tnloop = this.info.length;\r\n\t\tfor (let i=0; i<nloop; i++)\r\n\t\t{\r\n\t\t\tthis.info[i].imgIcon.dispose();\r\n\t\t\tthis.info[i].button.dispose();\r\n\t\t\tthis.info[i].mesh.dispose();\r\n\t\t}\r\n\t\t\r\n\t\t// Set flag go\r\n\t\tthis.flag_timeout = false;\r\n\t\tthis.flag_load_done = false;\r\n\t\tsetTimeout(() => {\r\n\t\t\tthis.flag_timeout = true;\r\n\t\t}, 250);\r\n\r\n\t\t// Load new dome\r\n\t\tthis.dome_next = new BABYLON.PhotoDome(\"skyDome_next\",\r\n\t\t\t_Engine_js__WEBPACK_IMPORTED_MODULE_0__.default.getLink(\"dome/\"+this.name_next+\".jpg\"),\r\n\t\t\t{faceForward: false, resolution: 32, size: 1000},\r\n\t\t\t_Engine_js__WEBPACK_IMPORTED_MODULE_0__.default.scene\r\n\t\t);\r\n\t\tthis.dome_next.setEnabled(false);\r\n\t\tthis.dome_next.rotation.y = BABYLON.Tools.ToRadians(this.data.rotation);\r\n\t\tthis.dome_next.onReady = () => {\r\n\t\t\tthis.flag_load_done = true;\r\n\t\t};\r\n\r\n\t\t// Wait flag\r\n\t\tthis.waitFunc = setInterval(() => {\r\n\t\t\tif ( this.flag_timeout && this.flag_load_done)\r\n\t\t\t\tthis.goto2();\r\n\t\t}, 250);\r\n\t\t\r\n\t\t// Anim go to\r\n\t\t_Engine_js__WEBPACK_IMPORTED_MODULE_0__.default.animation.zoom(false);\r\n\t\t\r\n\t\t// hook map\r\n\t\t_Engine_js__WEBPACK_IMPORTED_MODULE_0__.default.map.goLocation(this.name_next, this.data.position);\r\n\t}\r\n\r\n\tgoto2()\r\n\t{\r\n\t\t// Stop waiting\r\n\t\tclearInterval(this.waitFunc);\r\n\r\n\t\t// Anim go to\r\n\t\t_Engine_js__WEBPACK_IMPORTED_MODULE_0__.default.animation.zoom(true);\r\n\r\n\t\t// Set default\r\n\t\tthis.name = this.name_next;\r\n\t\tthis.position = this.data.position;\r\n\t\t\r\n\t\t// Set dome\r\n\t\tthis.dome.setEnabled(false);\r\n\t\tthis.dome_next.setEnabled(true);\r\n\r\n\t\t// Add link and info\r\n\t\tthis.link = [];\r\n\t\tfor (let i=0; i<this.data.link.length; i++)\r\n\t\t{\r\n\t\t\tlet l = this.data.link[i];\r\n\t\t\tthis.addLink(l.name, l.pos)\r\n\t\t}\r\n\t\tthis.info = [];\r\n\t\tfor (let i=0; i<this.data.info.length; i++)\r\n\t\t{\r\n\t\t\tlet info = this.data.info[i];\r\n\t\t\tthis.addInfo(info.name, info.pos)\r\n\t\t}\r\n\r\n\t\t// Update lenflare\r\n\t\t_Engine_js__WEBPACK_IMPORTED_MODULE_0__.default.effect.lensFlare_update();\r\n\r\n\t\t// remove old\r\n\t\tthis.dome.dispose();\r\n\t\tthis.dome = this.dome_next; // Change to main dome\r\n\t\tthis.dome_next = undefined;\r\n\t\t\r\n\t\t// Set flag\r\n\t\tthis.onLoad = false;\r\n\t}\r\n\r\n\tstatic registerMousePicking()\r\n\t{\r\n\t\t_Engine_js__WEBPACK_IMPORTED_MODULE_0__.default.scene.onPointerDown = (event, pickResult) => { // event mouse click pre\r\n\t\t\tif(event.button == 0)\r\n\t\t\t{\r\n\t\t\t\t// move type\r\n\t\t\t\tthis.isDrag = true;\r\n\t\t\t\t_Engine_js__WEBPACK_IMPORTED_MODULE_0__.default.canvas.style.cursor = \"move\";\r\n\t\t\t}\r\n\t\t\telse if(event.button == 1)\r\n\t\t\t{\r\n\t\t\t}\r\n\t\t\telse if(event.button == 2)\r\n\t\t\t{\r\n\t\t\t\tif (!_Engine_js__WEBPACK_IMPORTED_MODULE_0__.default.debug)\r\n\t\t\t\t\treturnl;\r\n\t\t\t\tlet vector = pickResult.pickedPoint;\r\n\t\t\t\tconsole.log(vector.x.toFixed() + ',' + vector.y.toFixed() + ',' + vector.z.toFixed());\r\n\t\t\t\t// console.log(\"{x: \"+vector.x.toFixed()+\", y: \"+vector.y.toFixed()+\", z: \"+vector.z.toFixed()+\"}\");\r\n\t\t\t}\r\n\t\t}\r\n\t\t_Engine_js__WEBPACK_IMPORTED_MODULE_0__.default.scene.onPointerMove = () => { // event mouse move\r\n\t\t\tif (this.isDrag)\r\n\t\t\t\t_Engine_js__WEBPACK_IMPORTED_MODULE_0__.default.canvas.style.cursor = \"move\";\r\n\t\t\telse\r\n\t\t\t\t_Engine_js__WEBPACK_IMPORTED_MODULE_0__.default.canvas.style.cursor = \"default\";\r\n\t\t}\r\n\t\t_Engine_js__WEBPACK_IMPORTED_MODULE_0__.default.scene.onPointerUp = (event) => { // event mouse click post\r\n\t\t\tif(event.button == 0)\r\n\t\t\t{\r\n\t\t\t\t// move type\r\n\t\t\t\tthis.isDrag = false;\r\n\t\t\t\t_Engine_js__WEBPACK_IMPORTED_MODULE_0__.default.canvas.style.cursor = \"default\";\r\n\t\t\t}\r\n\t\t}\r\n\t\tconst POINTERWHEEL = 0x08;\r\n\t\t_Engine_js__WEBPACK_IMPORTED_MODULE_0__.default.scene.onPointerObservable.add((evt) => { // event mouse wheel\r\n\t\t\t_Engine_js__WEBPACK_IMPORTED_MODULE_0__.default.interfaces.FOV.slider.value += (evt.event.deltaY / -1000);\r\n\t\t}, POINTERWHEEL);\r\n\r\n\t}\r\n}\r\n\n\n//# sourceURL=webpack://babylonjs_sgu/./src/Location.js?");

/***/ }),

/***/ "./src/MainMenu.js":
/*!*************************!*\
  !*** ./src/MainMenu.js ***!
  \*************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ MainMenu)\n/* harmony export */ });\n/* harmony import */ var _DetectMobileAPI_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./DetectMobileAPI.js */ \"./src/DetectMobileAPI.js\");\n/* harmony import */ var _Engine_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Engine.js */ \"./src/Engine.js\");\n\r\n\r\n\r\n\r\nclass MainMenu\r\n{\r\n\t// Forwards\r\n\tconstructor()\r\n\t{\r\n\t\t// Default\r\n\t\tlet location = _Engine_js__WEBPACK_IMPORTED_MODULE_1__.default.getParam(\"location\");\r\n\t\tif (location !== null)\r\n\t\t\treturn;\r\n\r\n\t\tthis.menuImg = new BABYLON.GUI.Image(\"mapImg\",\r\n\t\t\t\t_Engine_js__WEBPACK_IMPORTED_MODULE_1__.default.getLink(\"background/\"+Math.floor(Math.random()*4)+\".jpg\"));\r\n\t\t\r\n\t\t// this.menuImg.stretch = BABYLON.GUI.Image.STRETCH_UNIFORM;\r\n\t\tthis.menuImg.scaleX = 1.15;\r\n\t\tthis.menuImg.scaleY = 1.15;\r\n\t\t// this.menuImg.alpha = 0.2;\r\n\t\t\r\n\t\tthis.rectMain = new BABYLON.GUI.Rectangle();\r\n\t\tthis.rectMain.width = 1;\r\n\t\tthis.rectMain.height = 1;\r\n\t\tthis.rectMain.thickness = 0;\r\n\t\tthis.rectMain.background = \"black\";\r\n\t\t// this.rectMain.alpha = 0.1;\r\n\t\tthis.rectMain.zIndex = 5;\r\n        this.rectMain.isPointerBlocker = true;\r\n        this.rectMain.onPointerMoveObservable.add((evt) => {\r\n\r\n\t\t\t// Value\r\n\t\t\tlet width = _Engine_js__WEBPACK_IMPORTED_MODULE_1__.default.canvas.width;\r\n\t\t\tlet height = _Engine_js__WEBPACK_IMPORTED_MODULE_1__.default.canvas.height;\r\n\t\t\tlet factor = {\r\n\t\t\t\tx: (evt.x-width/2) * -0.1,\r\n\t\t\t\ty: (evt.y-height/2) * -0.1\r\n\t\t\t};\r\n\r\n\t\t\t// Parallax\r\n\t\t\tthis.menuImg.leftInPixels = factor.x;\r\n\t\t\tthis.menuImg.topInPixels = factor.y;\r\n\t\t});\r\n\t\tthis.rectMain.addControl(this.menuImg);\r\n\t\t_Engine_js__WEBPACK_IMPORTED_MODULE_1__.default.advancedTexture.addControl(this.rectMain);\r\n\r\n\t\t//Rect instruction\r\n\t\tthis.rectInstruction = new BABYLON.GUI.Rectangle();\r\n\t\tthis.rectInstruction.width = \"800px\";\r\n\t\tthis.rectInstruction.height = \"450px\";\r\n\t\tthis.rectInstruction.top = \"-150px\";\r\n\t\tthis.rectInstruction.cornerRadius = 10;\r\n\t\tthis.rectInstruction.color = \"transparent\";\r\n\t\tthis.rectInstruction.alpha = 0.7;\r\n\t\tthis.rectInstruction.background = \"black\";\r\n\t\tthis.rectInstruction.isPointerBlocker = false;\r\n\t\tthis.rectMain.addControl(this.rectInstruction);\r\n\t\tif((0,_DetectMobileAPI_js__WEBPACK_IMPORTED_MODULE_0__.default)())\r\n\t\t{\r\n\t\t\tthis.rectInstruction.isVisible = false;\r\n\t\t}\r\n\r\n\t\tthis.imgInstruction = new BABYLON.GUI.Image(\"imgInstruction\",_Engine_js__WEBPACK_IMPORTED_MODULE_1__.default.getLink(\"help.png\"));\r\n\t\tthis.rectInstruction.addControl(this.imgInstruction);\r\n\r\n\t\t//Text instruction\r\n\t\tthis.textInstruction = new BABYLON.GUI.TextBlock();\r\n\t\tthis.textInstruction.text = _Engine_js__WEBPACK_IMPORTED_MODULE_1__.default.data.lang.instruction;\r\n\t\tthis.textInstruction.color = \"white\";\r\n\t\tthis.textInstruction.top = \"-180px\";\r\n\t\t// this.textInstruction\r\n\t\tthis.rectInstruction.addControl(this.textInstruction);\r\n\r\n\t\t// Button Start\r\n\t\tthis.btnStart = new BABYLON.GUI.Rectangle();\r\n\t\tthis.btnStart.width = \"400px\";\r\n\t\tthis.btnStart.height = \"100px\";\r\n\t\tif ((0,_DetectMobileAPI_js__WEBPACK_IMPORTED_MODULE_0__.default)())\r\n\t\t\t{}\r\n\t\telse\r\n\t\t\tthis.btnStart.top = \"200px\";\r\n\t\tthis.btnStart.hoverCursor = \"pointer\";\r\n\t\tthis.btnStart.cornerRadius = 20;\r\n\t\tthis.btnStart.horizontalAlignment = BABYLON.GUI.Control.HORIZONTAL_ALIGNMENT_CENTER;\r\n\t\tthis.btnStart.verticalAlignment = BABYLON.GUI.Control.VERTICAL_ALIGNMENT_CENTER;\r\n\t\tthis.btnStart.background = \"#23272a\";\r\n\t\tthis.btnStart.color = \"white\";\r\n\t\tthis.btnStart.thickness = 1;\r\n\t\tthis.btnStart.onPointerClickObservable.add(() => {\r\n\t\t\t// Add location get param\r\n\t\t\t_Engine_js__WEBPACK_IMPORTED_MODULE_1__.default.changeURLwithoutReload(\"location\", \"CADV\");\r\n\t\t\t// Hide Menu\r\n\t\t\tBABYLON.Animation.CreateAndStartAnimation(\"MenuHidden\", this.rectMain, \"alpha\", 60, 60, 1, 0, 0);\t\r\n\t\t\tsetTimeout(() => {\r\n\t\t\t\t_Engine_js__WEBPACK_IMPORTED_MODULE_1__.default.animation.animTextStart(false);\r\n\t\t\t\tthis.rectMain.dispose();\r\n\t\t\t}, 1000);\r\n\t\t});\r\n\t\tthis.rectMain.addControl(this.btnStart);\r\n\r\n\t\t// Text start\r\n\t\tthis.textStart = new BABYLON.GUI.TextBlock();\r\n\t\tthis.textStart.text = _Engine_js__WEBPACK_IMPORTED_MODULE_1__.default.data.lang.start;\r\n\t\tthis.textStart.fontSizeInPixels = 24;\r\n\t\t_Engine_js__WEBPACK_IMPORTED_MODULE_1__.default.animation.animTextStart(true);\r\n\t\tthis.btnStart.addControl(this.textStart);\r\n\t\t\r\n\t\t// //Rect credit\r\n\t\t// this.rectCredit = new BABYLON.GUI.Rectangle();\r\n\t\t// this.rectCredit.width = \"400px\";\r\n\t\t// this.rectCredit.height = \"150px\";\r\n\t\t// this.rectCredit.top = \"-50px\";\r\n\t\t// this.rectCredit.left = \"-50px\";\r\n\t\t// this.rectCredit.cornerRadius = 10;\r\n\t\t// this.rectCredit.color = \"transparent\";\r\n\t\t// this.rectCredit.background = \"transparent\";\r\n\t\t// this.rectCredit.zIndex = 6;\r\n\t\t// this.rectCredit.horizontalAlignment = 1;\r\n\t\t// this.rectCredit.verticalAlignment = 1;\r\n\t\t// this.rectCredit.isPointerBlocker = false;\r\n\t\t// this.rectMain.addControl(this.rectCredit);\r\n\r\n\t\t// // Text start\r\n\t\t// this.textCredit = new BABYLON.GUI.TextBlock();\r\n\t\t// this.textCredit.text =  \"Sinh viên thực hiện:\\n\"+\r\n\t\t// \t\t\t\t\t\t\"- Nguyễn Minh Trí\\n\"+\r\n\t\t// \t\t\t\t\t\t\"- Hà Thiện Tuấn\";\r\n\t\t// this.textCredit.color = \"#23272a\";\r\n\t\t// this.textCredit.fontSize = \"24px\";\r\n\t\t// this.textCredit.textHorizontalAlignment = 1;\r\n\t\t// this.rectCredit.addControl(this.textCredit);\r\n\r\n\t\t// //Rect credit\r\n\t\t// this.rectCredit1 = new BABYLON.GUI.Rectangle();\r\n\t\t// this.rectCredit1.width = \"400px\";\r\n\t\t// this.rectCredit1.height = \"150px\";\r\n\t\t// this.rectCredit1.top = \"-50px\";\r\n\t\t// this.rectCredit1.left = \"50px\";\r\n\t\t// this.rectCredit1.cornerRadius = 10;\r\n\t\t// this.rectCredit1.color = \"transparent\";\r\n\t\t// this.rectCredit1.alpha = 0.5;\r\n\t\t// this.rectCredit1.background = \"black\";\r\n\t\t// this.rectCredit1.zIndex = 6;\r\n\t\t// this.rectCredit1.horizontalAlignment = 0;\r\n\t\t// this.rectCredit1.verticalAlignment = 1;\r\n\t\t// this.rectCredit1.isPointerBlocker = false;\r\n\t\t// this.rectMain.addControl(this.rectCredit1);\r\n\r\n\t\t// // Text start\r\n\t\t// this.textCredit1 = new BABYLON.GUI.TextBlock();\r\n\t\t// this.textCredit1.text =  \"Giảng viên hướng dẫn: \\n\"+\r\n\t\t// \t\t\t\t\t\t\"- ThS. Phạm Thi Vương\\n\";\r\n\t\t\t\t\t\t\t\t\r\n\t\t// this.textCredit1.color = \"white\";\r\n\t\t// this.textCredit1.fontSize = \"24px\";\r\n\t\t// this.textCredit1.textHorizontalAlignment = 0;\r\n\t\t// this.rectCredit1.addControl(this.textCredit1);\r\n\r\n\t\t//Rect credit\r\n\t\tthis.rectCredit2 = new BABYLON.GUI.Rectangle();\r\n\t\tthis.rectCredit2.width = \"550px\";\r\n\t\tthis.rectCredit2.height = \"100px\";\r\n\t\tthis.rectCredit2.top = \"0px\";\r\n\t\tthis.rectCredit2.cornerRadius = 10;\r\n\t\tthis.rectCredit2.color = \"transparent\";\r\n\t\tthis.rectCredit2.background = \"transparent\";\r\n\t\tthis.rectCredit2.zIndex = 6;\r\n\t\tthis.rectCredit2.horizontalAlignment = BABYLON.GUI.Control.HORIZONTAL_ALIGNMENT_CENTER;\r\n\t\tthis.rectCredit2.verticalAlignment = 1;\r\n\t\tthis.rectCredit2.isPointerBlocker = false;\r\n\t\tthis.rectMain.addControl(this.rectCredit2);\r\n\r\n\t\t// Text credit\r\n\t\tthis.textCredit2 = new BABYLON.GUI.TextBlock();\r\n\t\tthis.textCredit2.text = _Engine_js__WEBPACK_IMPORTED_MODULE_1__.default.data.lang.credit;\t\t\t\t\r\n\t\tthis.textCredit2.color = \"#23272a\";\r\n\t\tthis.textCredit2.fontStyle = \"italic\";\r\n\t\tthis.rectCredit2.addControl(this.textCredit2);\r\n\r\n\t\t// Set default\r\n\r\n\t\t// Get location\r\n\t}\r\n\r\n\t// Natives\r\n\r\n}\r\n\n\n//# sourceURL=webpack://babylonjs_sgu/./src/MainMenu.js?");

/***/ }),

/***/ "./src/Map.js":
/*!********************!*\
  !*** ./src/Map.js ***!
  \********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ Map)\n/* harmony export */ });\n/* harmony import */ var _DetectMobileAPI_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./DetectMobileAPI.js */ \"./src/DetectMobileAPI.js\");\n/* harmony import */ var _Engine_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Engine.js */ \"./src/Engine.js\");\n\r\n\r\n\r\n\r\nclass Map\r\n{\r\n\tconstructor()\r\n\t{\r\n\t\t// Init default\r\n\t\tthis.mouse = {\r\n\t\t\tdrag: false,\r\n\t\t\tx: 0,\r\n\t\t\ty: 0\r\n\t\t}\r\n\r\n\t\tthis.mat = {\r\n\t\t\tx: 0,\r\n\t\t\ty: 0,\r\n\t\t\tscale: 1.0,\r\n\t\t\txbound: 0,\r\n\t\t\tybound: 0,\r\n\t\t\timgSize: 1,\r\n\t\t\tscaleMax: 1.0,\r\n\t\t\tscaleMin: 1.0\r\n\t\t}\r\n\r\n\t\tthis.link = [];\r\n\r\n\t\t// Caculator\r\n\t\tthis.mat.xbound = _Engine_js__WEBPACK_IMPORTED_MODULE_1__.default.canvas.width * 90 / 100;\r\n\t\tthis.mat.ybound = _Engine_js__WEBPACK_IMPORTED_MODULE_1__.default.canvas.height * 90 / 100;\r\n\r\n\t\tif (this.mat.xbound > this.mat.ybound)\r\n\t\t{\r\n\t\t\tthis.mat.imgSize = this.mat.ybound;\r\n\t\t\tthis.mat.scaleMin = this.mat.xbound / this.mat.ybound + 0.1;\r\n\t\t}\r\n\t\telse\r\n\t\t{\r\n\t\t\tthis.mat.imgSize = this.mat.xbound;\r\n\t\t\tthis.mat.scaleMin = this.mat.ybound / this.mat.xbound + 0.1;\r\n\t\t}\r\n\t\t\r\n\t\tthis.mat.scaleMax = 3.0; // ?\r\n\t\tthis.mat.scale = 2.0; // custom from min to max\r\n\r\n\t\t// Init map\r\n\t\tthis.initTotalMap();\r\n\t\tthis.initMiniMap();\r\n\r\n\t\t// Register callback\r\n\t\tthis.registerUpdateCamera();\r\n\t}\r\n\r\n\tinitTotalMap()\r\n\t{\r\n\t\tthis.totalImg = new BABYLON.GUI.Image(\"mapImg\", _Engine_js__WEBPACK_IMPORTED_MODULE_1__.default.getLink(\"total_map.png\"));\r\n\t\tthis.totalImg.stretch = BABYLON.GUI.Image.STRETCH_UNIFORM;\r\n\t\tthis.totalImg.scaleX = 2.0;\r\n\t\tthis.totalImg.scaleY = 2.0;\r\n\r\n\t\tthis.totalMap = new BABYLON.GUI.Rectangle();\r\n\t\tthis.totalMap.width = 0.9;\r\n\t\tthis.totalMap.height = 0.9;\r\n\t\tthis.totalMap.cornerRadius = 20;\r\n\t\tthis.totalMap.thickness = 0;\r\n\t\tthis.totalMap.background = \"transparent\";\r\n\t\tthis.totalMap.zIndex = 3;\r\n        this.totalMap.isPointerBlocker = true;\r\n        this.totalMap.isVisible = false;\r\n\t\tthis.totalMap.onPointerDownObservable.add((evt) => { // Mouse click pre\r\n\t\t\tif (evt.buttonIndex == 0)\r\n\t\t\t{\r\n\t\t\t\t// flag\r\n\t\t\t\tthis.mouse.drag = true;\r\n\t\r\n\t\t\t\t// save start drag\r\n\t\t\t\tthis.mouse.x = evt.x;\r\n\t\t\t\tthis.mouse.y = evt.y;\r\n\t\t\t}\r\n\t\t\telse if (evt.buttonIndex == 2)\r\n\t\t\t{\r\n\t\t\t\tif (!_Engine_js__WEBPACK_IMPORTED_MODULE_1__.default.debug)\r\n\t\t\t\t\treturnl;\r\n\t\t\t\t// Find point in image\r\n\t\t\t\tlet x = ((evt.x - _Engine_js__WEBPACK_IMPORTED_MODULE_1__.default.canvas.width / 2) - (this.mat.x * this.mat.scale)) / (this.mat.imgSize * this.mat.scale) + 0.5;\r\n\t\t\t\tlet y = ((evt.y - _Engine_js__WEBPACK_IMPORTED_MODULE_1__.default.canvas.height / 2) - (this.mat.y * this.mat.scale)) / (this.mat.imgSize * this.mat.scale) + 0.5;\r\n\r\n\t\t\t\t// this.addLink(posLink);\r\n\t\t\t\tconsole.log(\"{x: \"+x+\", y: \"+y+\"};\");\r\n\t\t\t}\r\n\t\t});\r\n\t\tthis.totalMap.onPointerUpObservable.add((evt) => { // Mouse click post\r\n\t\t\tif (evt.buttonIndex == 0)\r\n\t\t\t{\r\n\t\t\t\t// flag\r\n\t\t\t\tthis.mouse.drag = false;\r\n\t\r\n\t\t\t\t// save before transform\r\n\t\t\t\tthis.mat.x = this.totalImg.leftInPixels / this.mat.scale;\r\n\t\t\t\tthis.mat.y = this.totalImg.topInPixels / this.mat.scale;\r\n\t\t\t}\r\n\t\t});\r\n\t\tthis.totalMap.onPointerMoveObservable.add((evt) => { // mouse drag\r\n\t\t\tif (this.mouse.drag)\r\n\t\t\t{\r\n\t\t\t\t// transform when drag, position = old-transform * scale + delta mouse pos\r\n\t\t\t\tlet newX = this.mat.x * this.mat.scale + (evt.x - this.mouse.x);\r\n\t\t\t\tlet newY = this.mat.y * this.mat.scale + (evt.y - this.mouse.y);\r\n\r\n\t\t\t\t// Check bounding\r\n\t\t\t\tlet bounding = {\r\n\t\t\t\t\tx: (this.mat.imgSize * this.mat.scale - this.mat.xbound) / 2 - 5,\r\n\t\t\t\t\ty: (this.mat.imgSize * this.mat.scale - this.mat.ybound) / 2 - 5\r\n\t\t\t\t}\r\n\t\t\t\tif (newX < -bounding.x) newX = -bounding.x;\r\n\t\t\t\telse if (newX > bounding.x) newX = bounding.x;\r\n\t\t\t\tif (newY < -bounding.y) newY = -bounding.y;\r\n\t\t\t\telse if (newY > bounding.y) newY = bounding.y;\r\n\t\t\r\n\t\t\t\t// set pos\r\n\t\t\t\tthis.totalImg.leftInPixels = newX;\r\n\t\t\t\tthis.totalImg.topInPixels = newY;\r\n\r\n\t\t\t\tfor (let i=0; i<this.link.length; i++)\r\n\t\t\t\t{\r\n\t\t\t\t\tlet l = this.link[i];\r\n\t\t\t\t\tl.rect.leftInPixels = (l.position.x - 0.5) * (this.mat.imgSize * this.mat.scale) + newX;\r\n\t\t\t\t\tl.rect.topInPixels = (l.position.y - 0.5) * (this.mat.imgSize * this.mat.scale) + newY;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\t\tthis.totalMap.onWheelObservable.add((evt) => { // mouse wheel\r\n\r\n\t\t\t// Check bounding\r\n\t\t\tlet scale = Math.max(this.mat.scale + (evt.y / -2000), this.mat.scaleMin);\r\n\t\t\tif (scale > this.mat.scaleMin && scale < this.mat.scaleMax)\r\n\t\t\t{\r\n\t\t\t\t// zoom\r\n\t\t\t\tthis.totalImg.scaleX = scale;\r\n\t\t\t\tthis.totalImg.scaleY = scale;\r\n\t\t\t\tthis.mat.scale = scale;\r\n\t\r\n\t\t\t\t// move center on zoom\r\n\t\t\t\tlet newX = this.mat.x * scale;\r\n\t\t\t\tlet newY = this.mat.y * scale;\r\n\r\n\t\t\t\t// move with bounding\r\n\t\t\t\tlet bounding = {\r\n\t\t\t\t\tx: (this.mat.imgSize * this.mat.scale - this.mat.xbound) / 2 - 5,\r\n\t\t\t\t\ty: (this.mat.imgSize * this.mat.scale - this.mat.ybound) / 2 - 5\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (newX < -bounding.x) newX = -bounding.x;\r\n\t\t\t\telse if (newX > bounding.x) newX = bounding.x;\r\n\t\t\t\tif (newY < -bounding.y) newY = -bounding.y;\r\n\t\t\t\telse if (newY > bounding.y) newY = bounding.y;\r\n\r\n\t\t\t\t// Move\r\n\t\t\t\tthis.mat.x = newX / this.mat.scale;\r\n\t\t\t\tthis.mat.y = newY / this.mat.scale;\r\n\r\n\t\t\t\tthis.totalImg.leftInPixels = newX;\r\n\t\t\t\tthis.totalImg.topInPixels = newY;\r\n\r\n\t\t\t\tfor (let i=0; i<this.link.length; i++)\r\n\t\t\t\t{\r\n\t\t\t\t\tlet l = this.link[i];\r\n\t\t\t\t\tl.rect.leftInPixels = (l.position.x - 0.5) * (this.mat.imgSize * scale) + newX;\r\n\t\t\t\t\tl.rect.topInPixels = (l.position.y - 0.5) * (this.mat.imgSize * scale) + newY;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\t\tthis.totalMap.addControl(this.totalImg); // inster image\r\n\t\t_Engine_js__WEBPACK_IMPORTED_MODULE_1__.default.advancedTexture.addControl(this.totalMap);\r\n\r\n\t\t//Total map close button\r\n\t\tthis.btnCloseTotalMap = new BABYLON.GUI.Ellipse();\r\n\t\tthis.btnCloseTotalMap.background = \"white\";\r\n\t\tthis.btnCloseTotalMap.color = \"black\";\r\n\t\tthis.btnCloseTotalMap.thickness = 2;\r\n\t\tthis.btnCloseTotalMap.width = \"35px\";\r\n\t\tthis.btnCloseTotalMap.height = \"35px\";\r\n\t\tthis.btnCloseTotalMap.hoverCursor = \"pointer\";\r\n\t\tthis.btnCloseTotalMap.verticalAlignment = 0;\r\n\t\tthis.btnCloseTotalMap.horizontalAlignment = 1;\r\n\t\tthis.btnCloseTotalMap.top = \"10px\";\r\n\t\tthis.btnCloseTotalMap.left = \"-10px\";\t\t\r\n\t\tthis.imgTotalMapCloseBtn = new BABYLON.GUI.Image(\"imgTotalMapCloseBtn\",_Engine_js__WEBPACK_IMPORTED_MODULE_1__.default.getLink(\"icon/close.png\"));\r\n        this.btnCloseTotalMap.onPointerClickObservable.add(() => {\r\n\t\t\t_Engine_js__WEBPACK_IMPORTED_MODULE_1__.default.interfaces.showInterfaces(true); // Show interfaces\r\n\t\t\tthis.showTotalMap(false); // Hidden map\r\n\t\t});\r\n\r\n\t\tthis.btnCloseTotalMap.addControl(this.imgTotalMapCloseBtn);\r\n\t\tthis.totalMap.addControl(this.btnCloseTotalMap);\r\n\t\t\r\n\t\t// Add link to totalmap\r\n\t\tObject.keys(_Engine_js__WEBPACK_IMPORTED_MODULE_1__.default.data.loc).forEach((key) => {\r\n\t\t\tlet pos = _Engine_js__WEBPACK_IMPORTED_MODULE_1__.default.data.loc[key].position;\r\n\t\t\tthis.addLink(key, pos);\r\n\t\t});\r\n\t}\r\n\r\n\tinitMiniMap()\r\n\t{\r\n\t\tthis.miniImg = new BABYLON.GUI.Image(\"mapImg\", _Engine_js__WEBPACK_IMPORTED_MODULE_1__.default.getLink(\"map.png\"));\r\n\t\tthis.miniImg.stretch = BABYLON.GUI.Image.STRETCH_UNIFORM;\r\n\t\tthis.miniImg.scaleX = 5.0;\r\n\t\tthis.miniImg.scaleY = 5.0;\r\n\t\tthis.miniImg.zIndex = 1;\r\n\t\t\r\n\t\tthis.crossImg = new BABYLON.GUI.Image(\"mapImg\", _Engine_js__WEBPACK_IMPORTED_MODULE_1__.default.getLink(\"eye.png\"));\r\n\t\tthis.crossImg.zIndex = 2;\r\n\t\t\r\n\t\t// Mini map\r\n\t\tthis.miniMap = new BABYLON.GUI.Ellipse();\r\n\t\tif ((0,_DetectMobileAPI_js__WEBPACK_IMPORTED_MODULE_0__.default)())\r\n\t\t{\r\n\t\t\tthis.miniMap.width = \"100px\";\r\n\t\t\tthis.miniMap.height = \"100px\";\r\n\t\t}\r\n\t\telse\r\n\t\t{\r\n\t\t\tthis.miniMap.width = \"200px\";\r\n\t\t\tthis.miniMap.height = \"200px\";\r\n\t\t}\r\n\t\tthis.miniMap.hoverCursor = \"pointer\";\r\n\t\tthis.miniMap.horizontalAlignment = BABYLON.GUI.Control.HORIZONTAL_ALIGNMENT_RIGHT;\r\n\t\tthis.miniMap.verticalAlignment = BABYLON.GUI.Control.VERTICAL_ALIGNMENT_TOP;\r\n\t\tthis.miniMap.left = \"-15px\";\r\n\t\tthis.miniMap.top = \"15px\";\r\n\t\tthis.miniMap.thickness = 0;\r\n\t\tthis.miniMap.background = \"green\";\r\n\t\tthis.miniMap.zIndex = 3;\r\n\t\tthis.miniMap.shadowColor = \"black\";\r\n\t\tthis.miniMap.shadowBlur = 10;\r\n\t\tthis.miniMap.addControl(this.miniImg);\r\n\t\tthis.miniMap.addControl(this.crossImg);\r\n\t\tthis.miniMap.isPointerBlocker = true;\r\n\t\tthis.miniMap.onPointerClickObservable.add(() => {\r\n\t\t\t_Engine_js__WEBPACK_IMPORTED_MODULE_1__.default.interfaces.onShow = \"map\";\r\n\t\t\t// Hidden interfaces\r\n\t\t\t_Engine_js__WEBPACK_IMPORTED_MODULE_1__.default.interfaces.showInterfaces(false);\r\n\t\t\t_Engine_js__WEBPACK_IMPORTED_MODULE_1__.default.animation.animBlock(true);\r\n\t\t\t// show map\r\n\t\t\tthis.totalMap.isVisible = true;\r\n\t\t\t_Engine_js__WEBPACK_IMPORTED_MODULE_1__.default.animation.fadeAnimIn(this.totalMap);\r\n\t\t});\r\n\t\t//this.miniMap.isVisible = !detectMobile(); // chi hien khi su dung pc\r\n\t\t_Engine_js__WEBPACK_IMPORTED_MODULE_1__.default.advancedTexture.addControl(this.miniMap);\r\n\t}\r\n\r\n\taddLink(_name, _position)\r\n\t{\r\n\t\tlet rect = new BABYLON.GUI.Ellipse();\r\n\t\trect.width = \"12px\";\r\n\t\trect.height = \"12px\";\r\n\t\trect.color = \"Black\";\r\n\t\trect.thickness = 1;\r\n\t\trect.background = \"white\";\r\n\t\trect.zIndex = 3;\r\n\t\trect.hoverCursor = \"pointer\";\r\n\t\trect.isPointerBlocker = true;\r\n\t\trect.leftInPixels = (_position.x - 0.5) * (this.mat.imgSize * this.mat.scale) + this.totalImg.leftInPixels;\r\n\t\trect.topInPixels = (_position.y - 0.5) * (this.mat.imgSize * this.mat.scale) + this.totalImg.topInPixels;\r\n\t\trect.onPointerClickObservable.add((evt) => { // Mouse click\r\n\t\t\t// Show interfaces\r\n\t\t\t_Engine_js__WEBPACK_IMPORTED_MODULE_1__.default.interfaces.showInterfaces(true);\r\n\t\t\t// Hidden map\r\n\t\t\tthis.showTotalMap(false);\r\n\t\t\t_Engine_js__WEBPACK_IMPORTED_MODULE_1__.default.loc.goto(_name);\r\n\t\t});\r\n\t\t\r\n\t\tthis.totalMap.addControl(rect);\r\n\r\n\t\tthis.link.push({\r\n\t\t\tname: _name,\r\n\t\t\tposition: _position,\r\n\t\t\trect: rect\r\n\t\t});\r\n\t}\r\n\r\n\tgoLocation(name, position)\r\n\t{\r\n\t\t// hook mini map\r\n\t\tBABYLON.Animation.CreateAndStartAnimation(\"miniHookX\", this.miniImg, \"transformCenterX\", 60, 60, this.miniImg.transformCenterX, position.x*1.25 - 0.125, 0);\r\n\t\tBABYLON.Animation.CreateAndStartAnimation(\"miniHookY\", this.miniImg, \"transformCenterY\", 60, 60, this.miniImg.transformCenterY, position.y*1.25 - 0.125, 0);\r\n\r\n\t\t// link total map\r\n\t\tfor (let i=0; i<this.link.length; i++)\r\n\t\t{\r\n\t\t\tif (this.link[i].name.localeCompare(name) == 0)\r\n\t\t\t\tthis.link[i].rect.background = \"Orange\";\r\n\t\t\telse if (this.link[i].rect.background.localeCompare(\"White\") != 0)\r\n\t\t\t\tthis.link[i].rect.background = \"White\";\r\n\t\t}\r\n\t}\r\n\r\n\tregisterUpdateCamera()\r\n\t{\r\n\t\t_Engine_js__WEBPACK_IMPORTED_MODULE_1__.default.camera.onViewMatrixChangedObservable.add(() =>\r\n\t\t{\r\n\t\t\tlet target = _Engine_js__WEBPACK_IMPORTED_MODULE_1__.default.camera.position;\r\n\t\t\tlet tmptarget = new BABYLON.Vector2(-target.x, -target.z).normalize();\r\n\t\t\tvar angle = Math.acos(BABYLON.Vector2.Dot(tmptarget, new BABYLON.Vector3(0,-1)));\r\n\r\n\t\t\tif (tmptarget.x > 0) // fix 360 rotate\r\n\t\t\t\tangle = Math.PI * 2 - angle;\r\n\t\t\t\t\r\n\t\t\tlet offsetAngle = BABYLON.Tools.ToRadians(27); // offset to North\r\n\t\t\tthis.crossImg.rotation = angle - offsetAngle;\r\n\t\t});\r\n\t}\r\n\r\n\tresize()\r\n\t{\r\n\t\tthis.mat.xbound = _Engine_js__WEBPACK_IMPORTED_MODULE_1__.default.canvas.width * 90 / 100;\r\n\t\tthis.mat.ybound = _Engine_js__WEBPACK_IMPORTED_MODULE_1__.default.canvas.height * 90 / 100;\r\n\r\n\t\tif (this.mat.xbound > this.mat.ybound)\r\n\t\t{\r\n\t\t\tthis.mat.imgSize = this.mat.ybound;\r\n\t\t\tthis.mat.scaleMin = this.mat.xbound / this.mat.ybound + 0.1;\r\n\t\t}\r\n\t\telse\r\n\t\t{\r\n\t\t\tthis.mat.imgSize = this.mat.xbound;\r\n\t\t\tthis.mat.scaleMin = this.mat.ybound / this.mat.xbound + 0.1;\r\n\t\t}\r\n\t\tthis.mat.x = 0;\r\n\t\tthis.mat.y = 0;\r\n\t\tthis.totalImg.leftInPixels = 0;\r\n\t\tthis.totalImg.topInPixels = 0;\r\n\r\n\t\tthis.mat.scale = this.mat.scaleMin;\r\n\t\tthis.totalImg.scaleX = this.mat.scaleMin;\r\n\t\tthis.totalImg.scaleY = this.mat.scaleMin;\r\n\r\n\t\tfor (let i=0; i<this.link.length; i++)\r\n\t\t{\r\n\t\t\tlet l = this.link[i];\r\n\t\t\tl.rect.leftInPixels = (l.position.x - 0.5) * (this.mat.imgSize * this.mat.scale);\r\n\t\t\tl.rect.topInPixels = (l.position.y - 0.5) * (this.mat.imgSize * this.mat.scale);\r\n\t\t}\r\n\t}\r\n\r\n\tshowTotalMap(toggle)\r\n\t{\r\n\t\tif (toggle)\r\n\t\t{\r\n\t\t\t_Engine_js__WEBPACK_IMPORTED_MODULE_1__.default.map.totalMap.isVisible = true;\r\n\t\t\t_Engine_js__WEBPACK_IMPORTED_MODULE_1__.default.animation.fadeAnimIn(_Engine_js__WEBPACK_IMPORTED_MODULE_1__.default.map.totalMap);\r\n\t\t\t_Engine_js__WEBPACK_IMPORTED_MODULE_1__.default.animation.animBlock(true);\r\n\t\t}\r\n\t\telse\r\n\t\t{\r\n\t\t\t_Engine_js__WEBPACK_IMPORTED_MODULE_1__.default.animation.animBlock(false);\r\n\t\t\t_Engine_js__WEBPACK_IMPORTED_MODULE_1__.default.animation.fadeAnimOut(this.totalMap);\r\n\t\t\tsetTimeout(() => {\t\r\n\t\t\t\tthis.totalMap.isVisible = false;\r\n\t\t\t},400);\r\n\t\t}\r\n\t}\r\n\r\n\tshowMiniMap(toggle)\r\n\t{\r\n\t\tif (toggle)\r\n\t\t{\r\n\t\t\t_Engine_js__WEBPACK_IMPORTED_MODULE_1__.default.map.miniMap.isVisible = true;\r\n\t\t\t_Engine_js__WEBPACK_IMPORTED_MODULE_1__.default.animation.fadeAnimIn(_Engine_js__WEBPACK_IMPORTED_MODULE_1__.default.map.miniMap);\r\n\t\t}\r\n\t\telse\r\n\t\t{\r\n\t\t\t_Engine_js__WEBPACK_IMPORTED_MODULE_1__.default.animation.fadeAnimOut(_Engine_js__WEBPACK_IMPORTED_MODULE_1__.default.map.miniMap);\r\n\t\t\tsetTimeout(() => {\t\r\n\t\t\t\t_Engine_js__WEBPACK_IMPORTED_MODULE_1__.default.map.miniMap.isVisible = false;\r\n\t\t\t},400);\r\n\t\t}\r\n\t}\r\n}\r\n\n\n//# sourceURL=webpack://babylonjs_sgu/./src/Map.js?");

/***/ }),

/***/ "./src/Music.js":
/*!**********************!*\
  !*** ./src/Music.js ***!
  \**********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ Music)\n/* harmony export */ });\n/* harmony import */ var _Engine_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Engine.js */ \"./src/Engine.js\");\n\r\n\r\n\r\nclass Music\r\n{\r\n\tconstructor()\r\n\t{\r\n\t\tthis.volume = 1.0;\r\n\t}\r\n\r\n\tturn(toogle)\r\n\t{\r\n\t\tif (toogle)\r\n\t\t{\r\n\t\t\tthis.music.setVolume(this.volume);\r\n\t\t}\r\n\t\telse\r\n\t\t{\r\n\t\t\tthis.music.setVolume(0);\r\n\t\t}\r\n\t}\r\n\r\n\tsetVolume(volume)\r\n\t{\r\n\t\tif (volume > 0)\r\n\t\t\tthis.volume = volume;\r\n\r\n\t\tif (this.music === undefined)\r\n\t\t\tthis.changeMusic();\r\n\r\n\t\tthis.music.setVolume(volume);\r\n\t}\r\n\r\n\tchangeMusic()\r\n\t{\r\n\t\tlet musicName = _Engine_js__WEBPACK_IMPORTED_MODULE_0__.default.data.music[Math.floor(Math.random() * _Engine_js__WEBPACK_IMPORTED_MODULE_0__.default.data.music.length)];\r\n\t\tlet pathMusic = _Engine_js__WEBPACK_IMPORTED_MODULE_0__.default.getLink(\"music/\"+musicName+\".mp3\");\r\n\t\tthis.music = new BABYLON.Sound(\"music1\", pathMusic, _Engine_js__WEBPACK_IMPORTED_MODULE_0__.default.scene, null, {loop: true, autoplay: true});\r\n\t}\r\n}\r\n\n\n//# sourceURL=webpack://babylonjs_sgu/./src/Music.js?");

/***/ }),

/***/ "./src/index.js":
/*!**********************!*\
  !*** ./src/index.js ***!
  \**********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _Engine_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Engine.js */ \"./src/Engine.js\");\n\r\n\r\n\r\n_Engine_js__WEBPACK_IMPORTED_MODULE_0__.default.main();\r\n\n\n//# sourceURL=webpack://babylonjs_sgu/./src/index.js?");

/***/ })

/******/ 	});
/************************************************************************/
/******/ 	// The module cache
/******/ 	var __webpack_module_cache__ = {};
/******/ 	
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/ 		// Check if module is in cache
/******/ 		var cachedModule = __webpack_module_cache__[moduleId];
/******/ 		if (cachedModule !== undefined) {
/******/ 			return cachedModule.exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = __webpack_module_cache__[moduleId] = {
/******/ 			// no module.id needed
/******/ 			// no module.loaded needed
/******/ 			exports: {}
/******/ 		};
/******/ 	
/******/ 		// Execute the module function
/******/ 		__webpack_modules__[moduleId](module, module.exports, __webpack_require__);
/******/ 	
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/ 	
/************************************************************************/
/******/ 	/* webpack/runtime/define property getters */
/******/ 	(() => {
/******/ 		// define getter functions for harmony exports
/******/ 		__webpack_require__.d = (exports, definition) => {
/******/ 			for(var key in definition) {
/******/ 				if(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {
/******/ 					Object.defineProperty(exports, key, { enumerable: true, get: definition[key] });
/******/ 				}
/******/ 			}
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/hasOwnProperty shorthand */
/******/ 	(() => {
/******/ 		__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/make namespace object */
/******/ 	(() => {
/******/ 		// define __esModule on exports
/******/ 		__webpack_require__.r = (exports) => {
/******/ 			if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 				Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 			}
/******/ 			Object.defineProperty(exports, '__esModule', { value: true });
/******/ 		};
/******/ 	})();
/******/ 	
/************************************************************************/
/******/ 	
/******/ 	// startup
/******/ 	// Load entry module and return exports
/******/ 	// This entry module can't be inlined because the eval devtool is used.
/******/ 	var __webpack_exports__ = __webpack_require__("./src/index.js");
/******/ 	
/******/ })()
;